(function(){var e={6700:function(e,t,i){var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":8227,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":8227,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function n(e){var t=a(e);return i(t)}function a(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id=6700},935:function(e){async function t(){try{const e=await fetch("/api/me");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}e.exports={getUserData:t}},4397:function(e,t,i){"use strict";async function s(){try{const e=await fetch("/api/meta");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function n(e){return await(await fetch("/api/meta/editmg",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({mentor_group:e})})).json()}i.r(t),i.d(t,{getUserMetadata:function(){return s},postEditMentorGroup:function(){return n}})},1601:function(e){async function t(e,t,i,s,n){let a={house:e,year:t,majors:i,honours:s,mentorClass:n};return await(await fetch("/api/submit",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(a)})).json()}e.exports={postRegistrationData:t}},9006:function(e,t,i){"use strict";i.r(t),i.d(t,{getFormattedDate:function(){return n},getFormattedTime:function(){return a},getMysqlFormattedDate:function(){return r},getMysqlFormattedTime:function(){return o}});var s=i(1280);function n(e,t=!1,i=!1){return e?t?i?(0,s.ZP)(e,"dd mmm yyyy"):(0,s.ZP)(e,"dddd, mmmm dS yyyy"):i?(0,s.ZP)(e,"dd mmm"):(0,s.ZP)(e,"dddd, mmmm dS"):null}function a(e){return(0,s.ZP)(e,"h:MM TT")}function r(e){return(0,s.ZP)(e,"yyyy-mm-dd")}function o(e){return(0,s.ZP)(e,"HH:MM:ss")}},4914:function(e){e.exports.po=["Mathematics","Physics","Chemistry","Biology","Computing Studies","History","Geography","Music","Art","English Literature","Economics"],e.exports.e1=["Faraday","Fibonacci","Fleming","Nobel"],e.exports.Dx=Array.from(Array(7).keys()).map((e=>e+1)).map((e=>"0"+e)),e.exports.jU=3,e.exports.c1={PENDING:"warning",SCHEDULED:"success",CANCELLED:"dark grey",COMPLETED:"primary"}},2076:function(e,t,i){"use strict";var s=i(144),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[i("v-btn",e._b({attrs:{color:"error",text:""},on:{click:function(t){e.snackbarFlag=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbarFlag,callback:function(t){e.snackbarFlag=t},expression:"snackbarFlag"}},[e._v(" "+e._s(this.$store.state.snackbarText)+" ")]),e.hasRegistered?i("v-navigation-drawer",{attrs:{permanent:"",app:""},scopedSlots:e._u([{key:"append",fn:function(){return[i("div",{staticClass:"pa-2"},[i("v-btn",{attrs:{block:"",color:"primary",target:"_blank",href:"https://forms.office.com/r/22BAnGHvir"}},[i("v-icon",{attrs:{left:""}},[e._v("mdi-alert-circle")]),e._v(" Report Bug ")],1)],1)]},proxy:!0}],null,!1,1992728162)},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h5"},[e._v(" Centros ")]),i("v-list-item-subtitle",{staticClass:"caption"},[e._v(" College Counselling ")]),i("v-list-item-subtitle",{staticClass:"caption"},[e._v(" Management System ")])],1)],1),i("v-divider"),i("v-list",{attrs:{dense:"",nav:""}},e._l(e.navItems,(function(t){return i("div",{key:t.title},[i("v-list-item",{attrs:{link:"",router:"",to:t.route}},[i("v-list-item-icon",[i("v-icon",[e._v(e._s(t.icon))])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(t.title)+" ")])],1)],1),t.divider?i("v-divider",{staticClass:"my-3"}):e._e()],1)})),0)],1):e._e(),e.hasRegistered?i("v-app-bar",{staticClass:"white--text font-weight-bold",attrs:{app:"",dense:"",color:"primary"}},[i("v-toolbar-title",[e._v("Centros")]),i("v-spacer"),i("v-menu",{attrs:{bottom:"","min-width":"250px",rounded:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[i("v-btn",e._g({attrs:{icon:"","x-large":""}},s),[i("UserAvatar",{attrs:{size:40}})],1)]}}],null,!1,311962827)},[i("v-card",[i("v-list-item-content",{staticClass:"justify-center"},[i("div",{staticClass:"mx-auto text-center"},[i("UserAvatar",{attrs:{size:56}}),i("h3",[e._v(e._s(e.user.name))]),i("p",{staticClass:"text-caption mt-1"},[e._v(" "+e._s(e.user.email)+" ")]),i("v-divider",{staticClass:"my-3"}),i("v-btn",{attrs:{depressed:"",rounded:"",text:"",href:"/signout"}},[e._v(" Logout ")])],1)])],1)],1)],1):e._e(),i("v-main",[i("router-view")],1),i("v-footer",{attrs:{app:""}})],1)},a=[],r=i(935),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-avatar",{attrs:{color:"black",size:e.size}},[i("span",{staticClass:"white--text"},[e._v(e._s(e.getInitials()))])])},l=[],c={name:"UserAvatar",methods:{getName(){return this.name?this.name:this.$store.state.user?this.$store.state.user.name:"ERROR"},getInitials(){let e,t=this.getName().split(" ");return e=1===t.length?t[0][0]:t[0][0]+t[1][0],e.toUpperCase()}},props:{name:{require:!1,type:String},size:{require:!0,type:Number}}},u=c,d=i(1001),m=i(3453),v=i.n(m),h=i(6370),p=(0,d.Z)(u,o,l,!1,null,"f701d81e",null),g=p.exports;v()(p,{VAvatar:h.Z});var f={name:"App",components:{UserAvatar:g},methods:{schedule(){return this.$store.state.schedule}},computed:{snackbarFlag:{get(){return this.$store.state.snackbarFlag},set(e){e?this.$store.commit("showSnackbar",this.$store.state.snackbarText):this.$store.commit("hideSnackbar")}},user(){return this.$store.state.user},hasRegistered(){return!!this.$store.state.user&&this.$store.state.user.hasRegistered}},mounted(){(0,r.getUserData)().then((e=>{null===e&&"/"!==this.$route.name&&this.$router.replace("/"),this.$store.commit("user",e)}))},created(){document.title="Centros"},data:()=>({show:!1,navItems:[{title:"Calendar",icon:"mdi-calendar",divider:!1,route:"/calendar"},{title:"Meetings",icon:"mdi-calendar-clock",divider:!0,route:"/meetings"},{title:"Profile",icon:"mdi-account",divider:!1,route:"/profile"},{title:"Guides",icon:"mdi-book-open-variant",divider:!1,route:"/guides"}]})},y=f,b=i(7524),_=i(8320),w=i(680),C=i(2371),k=i(1418),x=i(899),D=i(6428),j=i(6816),S=i(7620),I=i(1317),V=i(459),Z=i(7877),M=i(1152),F=i(5132),T=i(3202),A=i(9762),E=i(7921),R=(0,d.Z)(y,n,a,!1,null,null,null),U=R.exports;v()(R,{VApp:b.Z,VAppBar:_.Z,VBtn:w.Z,VCard:C.Z,VDivider:k.Z,VFooter:x.Z,VIcon:D.Z,VList:j.Z,VListItem:S.Z,VListItemContent:I.km,VListItemIcon:V.Z,VListItemSubtitle:I.oZ,VListItemTitle:I.V9,VMain:Z.Z,VMenu:M.Z,VNavigationDrawer:F.Z,VSnackbar:T.Z,VSpacer:A.Z,VToolbarTitle:E.qW});var q=i(9132);s.Z.use(q.Z);const O=new q.Z({theme:{themes:{light:{primary:"#43919D",secondary:"#FFFFFF"},dark:{primary:"#43919D",secondary:"#FFFFFF"}}}});var $=O,P=i(8345),N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",{staticClass:"text-center"},[s("v-col",{attrs:{cols:"12"}},[s("v-img",{staticClass:"my-3",attrs:{src:i(9574),contain:"",height:"280"}})],1),s("v-col",{attrs:{cols:"12"}},[s("h1",{staticClass:"text-h2 font-weight-bold"},[e._v("Centros")])]),s("v-col",[s("p",{staticClass:"body-4"},[e._v(" College Counselling Management System ")])])],1),s("v-row",[s("v-col",{staticClass:"d-flex justify-center"},[s("v-btn",{staticClass:"mx-auto",attrs:{"x-large":"",rounded:"",color:"primary",href:"/signin"}},[s("v-icon",{staticClass:"mr-2"},[e._v(" mdi-microsoft ")]),e._v(" Microsoft Login ")],1)],1)],1)],1)},L=[],G={name:"SignIn",data:()=>({}),methods:{}},Y=G,B=i(2102),z=i(9846),J=i(7047),H=i(2877),Q=(0,d.Z)(Y,N,L,!1,null,"5cff6ff4",null),W=Q.exports;v()(Q,{VBtn:w.Z,VCol:B.Z,VContainer:z.Z,VIcon:D.Z,VImg:J.Z,VRow:H.Z});var K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"px-12",attrs:{fluid:""}},[i("div",{staticClass:"pa-4"},[i("v-row",[i("v-col",[i("h1",{staticClass:"text-h4 font-weight-bold"},[e._v("Meeting Schedule")])])],1),i("v-row",{attrs:{dense:"","no-gutters":""}},[i("v-col",[i("p",[e._v("This site is for scheduling appointments with Mr West only. You can schedule appointments with Mr Allan "),i("a",{attrs:{href:"https://tinyurl.com/see-mr-allan"}},[e._v("here")])])])],1),i("v-row",{attrs:{dense:"","no-gutters":""}},[i("v-col",[i("p",[e._v("Canteen College Counselling - Find Mr West at the canteen at 1130-1300, say hello, and ask questions about your university journeys and dreams.")])])],1),i("v-row",[i("v-col",e._l(e.pendingMeetings,(function(t){return i("MeetingCard",{key:t.meeting_id,attrs:{name:t.name,email:t.email,description:t.description,date:e.getDateFromMysqlDate(t.date),"start-time":e.getDateFromMysqlTime(t.start_time),"end-time":e.getDateFromMysqlTime(t.end_time)}})})),1)],1),i("v-row",[i("v-col",[i("v-row",[i("v-container",{staticClass:"d-flex align-center justify-center",attrs:{fluid:""}},[i("v-btn",{staticClass:"ml-auto",attrs:{icon:""},on:{click:e.goToPreviousPage}},[i("v-icon",[e._v("mdi-chevron-left")])],1),i("p",{staticClass:"ma-0"},[e._v(e._s(e.currDateFormatted()))]),i("v-btn",{attrs:{icon:""},on:{click:e.goToNextPage}},[i("v-icon",[e._v("mdi-chevron-right")])],1),i("v-btn",{staticClass:"ml-auto",attrs:{icon:""},on:{click:e.changeCalendarMode}},[i("v-icon",[e._v("mdi-calendar-month-outline")])],1)],1)],1),i("v-row",[i("v-col",[i("v-calendar",{ref:"calendar",staticStyle:{height:"auto",width:"auto"},attrs:{start:new Date,"event-overlap-mode":"column",type:e.mode,events:e.events,color:"primary","event-ripple":!1,"interval-minutes":"30","first-interval":"15","interval-count":"19"},on:{"click:event":e.showMeetingDetails,"click:date":e.viewWeek,"mousedown:event":e.startDrag,"mousedown:time":e.startTime,"mousemove:time":e.mouseMove,"mouseup:time":e.endDrag},nativeOn:{mouseleave:function(t){return e.cancelDrag.apply(null,arguments)}},scopedSlots:e._u([{key:"interval",fn:function(t){var s=t.past,n=t.weekday;return[s||0===n||6===n?i("div",{staticClass:"fill-height",staticStyle:{background:"#e6e6e6"}}):e._e()]}}]),model:{value:e.targetDate,callback:function(t){e.targetDate=t},expression:"targetDate"}})],1)],1)],1)],1)],1),i("div",{staticStyle:{height:"60px"}}),i("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[i("v-card",{attrs:{width:"300",flat:""}},[i("v-list",[i("v-subheader",[e._v("Booked By")]),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(e.selectedEvent.name))]),i("v-list-item-subtitle",[e._v(e._s(e.selectedEvent.email))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v("mdi-text")])],1),i("v-list-item-content",[e._v(e._s(e.selectedEvent.description))])],1),e.selectedEvent.venue?i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v("mdi-map-marker")])],1),i("v-list-item-content",[e._v(e._s(e.selectedEvent.venue))])],1):e._e(),i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(e.getFormattedDate(e.selectedEvent.start)))]),i("v-list-item-subtitle",[e._v(e._s(e.getFormattedTime(e.selectedEvent.start))+" to "+e._s(e.getFormattedTime(e.selectedEvent.end))+" ")])],1)],1),i("v-list-item",[i("v-chip",{attrs:{color:e.meetingStatusToColor[e.selectedEvent.meeting_status],"text-color":"white"}},[e._v(" "+e._s(e.selectedEvent.meeting_status)+" ")])],1)],1),e.showCancelMeetingActions?i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.cancelDialog=!0}}},[e._v("Cancel")])],1):e._e(),e.showConfirmMeetingActions?i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.acceptDialog=!0}}},[e._v("Accept")]),i("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.declineDialog=!0}}},[e._v("Decline")])],1):e._e(),e.showCompleteMeetingActions?i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.completeDialog=!0}}},[e._v("Mark Completed")]),i("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.declineDialog=!0}}},[e._v("Cancel")])],1):e._e()],1)],1),i("v-bottom-sheet",{ref:"bottomSheet",attrs:{"hide-overlay":"",persistent:"",value:e.showCreatePrompt,"no-click-animation":"","retain-focus":!1}},[i("v-sheet",{staticClass:"d-flex justify-center align-center pa-10",attrs:{height:"80px"}},[e._v(" New Meeting: "+e._s(e.meetingDate)+" "+e._s(e.meetingStartTime)+" to "+e._s(e.meetingEndTime)+" "),i("v-btn",{staticClass:"ml-auto mr-3",attrs:{color:"primary"},on:{click:function(t){e.scheduleDialog=!0}}},[e._v("Schedule ")]),i("v-dialog",{attrs:{width:"700"},model:{value:e.scheduleDialog,callback:function(t){e.scheduleDialog=t},expression:"scheduleDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Schedule Meeting ")]),i("v-card-text",[i("p",[e._v("Please provide a short description of what you would like to discuss about.")]),i("v-form",{ref:"scheduleForm"},[i("v-text-field",{attrs:{"prepend-icon":"mdi-pencil",outlined:"",dense:"",rules:[function(e){return!!e||"Description is required"}],label:"Description"},model:{value:e.descriptionInput,callback:function(t){e.descriptionInput=t},expression:"descriptionInput"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitMeetingSchedule}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:e.closeScheduleDialog}},[e._v(" Cancel ")])],1)],1)],1),i("v-btn",{attrs:{text:"",color:"red"},on:{click:e.cancelScheduleNewMeeting}},[e._v(" Cancel ")])],1)],1),i("v-dialog",{attrs:{width:"700"},model:{value:e.acceptDialog,callback:function(t){e.acceptDialog=t},expression:"acceptDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Accept Meeting ")]),i("v-card-text",[i("p",[e._v("Where will the meeting take place?")]),i("v-form",{ref:"acceptForm"},[i("v-text-field",{attrs:{outlined:"","prepend-icon":"mdi-map-marker",dense:"",rules:[function(e){return!!e||"A venue is required"}],label:"Venue"},model:{value:e.venueInput,callback:function(t){e.venueInput=t},expression:"venueInput"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitAcceptMeeting}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:e.closeAcceptDialog}},[e._v(" Cancel ")])],1)],1)],1),i("v-dialog",{attrs:{width:"700"},model:{value:e.declineDialog,callback:function(t){e.declineDialog=t},expression:"declineDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Decline Meeting ")]),i("v-card-text",[i("p",[e._v("Please provide a short reason for declining the meeting.")]),i("v-form",{ref:"declineForm"},[i("v-text-field",{attrs:{outlined:"","prepend-icon":"mdi-pencil",dense:"",rules:[function(e){return!!e||"Short reason is required"}],label:"Reason"},model:{value:e.reasonInput,callback:function(t){e.reasonInput=t},expression:"reasonInput"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitDeclineMeeting}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:e.closeDeclineDialog}},[e._v(" Cancel ")])],1)],1)],1),i("v-dialog",{attrs:{width:"300"},model:{value:e.completeDialog,callback:function(t){e.completeDialog=t},expression:"completeDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Complete Meeting ")]),i("v-card-text",[e._v(" Are you sure you want to complete this meeting? ")]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCompleteMeeting}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:function(t){e.completeDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1),i("v-dialog",{attrs:{width:"600"},model:{value:e.cancelDialog,callback:function(t){e.cancelDialog=t},expression:"cancelDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Cancel Meeting ")]),i("v-card-text",[i("p",[e._v("Please provide a short reason for cancelling the meeting.")]),i("v-form",{ref:"cancelForm"},[i("v-text-field",{attrs:{outlined:"","prepend-icon":"mdi-pencil",dense:"",rules:[function(e){return!!e||"Short reason is required"}],label:"Reason"},model:{value:e.reasonInput,callback:function(t){e.reasonInput=t},expression:"reasonInput"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCancelMeeting}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:e.closeCancelDialog}},[e._v(" Cancel ")])],1)],1)],1)],1)},X=[],ee=i(381),te=i.n(ee),ie=i(4914),se=i(9006),ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-card-title",[e._v("Meeting #"+e._s(e.meetingId)+" "),s("v-chip",{staticClass:"ml-4",attrs:{dark:"",color:e.meetingStatusToColor[e.meetingStatus]}},[e._v(e._s(e.meetingStatus))])],1),s("v-card-subtitle",[e._v(e._s(e.description))]),s("v-card-text",[s("v-list",[e.name&&e.email?s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("div",[s("v-menu",{attrs:{bottom:"",right:"",transition:"scale-transition",origin:"top left"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-chip",e._g({attrs:{pill:""}},n),[s("v-avatar",{attrs:{left:""}},[s("v-img",{attrs:{src:i(2315)}})],1),e._v(" "+e._s(e.name)+" ")],1)]}}],null,!1,160531654),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[s("v-card",{attrs:{width:"300"}},[s("v-list",[s("v-list-item",[s("v-list-item-avatar",[s("v-img",{attrs:{src:i(2315)}})],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(e.name))]),s("v-list-item-subtitle",[e._v(e._s(e.email))])],1)],1)],1)],1)],1)],1)])],1):e._e(),e.venue?s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v("mdi-map-marker")])],1),s("v-list-item-content",[e._v(e._s(e.venue))])],1):e._e(),s("v-list-item",{attrs:{"two-line":""}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-calendar-clock")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(this.formattedDate(e.date)))]),s("v-list-item-subtitle",[e._v(e._s(this.formattedTime(e.startTime))+" to "+e._s(this.formattedTime(e.endTime))+" ")])],1)],1),e.reason?s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v("mdi-cancel")])],1),s("v-list-item-content",[e._v(e._s(e.reason))])],1):e._e()],1)],1),e.showActions?s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"red",text:""},on:{click:e.promptConfirmation}},[e._v("Cancel")])],1):e._e(),s("v-dialog",{attrs:{width:"600"},model:{value:e.cancelDialog,callback:function(t){e.cancelDialog=t},expression:"cancelDialog"}},[s("v-card",[s("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Cancel Meeting ")]),s("v-card-text",[s("p",[e._v("Please provide a short reason for cancelling the meeting.")]),s("v-form",{ref:"cancelForm"},[s("v-text-field",{attrs:{outlined:"","prepend-icon":"mdi-pencil",dense:"",rules:[function(e){return!!e||"Short reason is required"}],label:"Reason"},model:{value:e.reasonInput,callback:function(t){e.reasonInput=t},expression:"reasonInput"}})],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCancelMeeting}},[e._v(" Confirm ")]),s("v-btn",{attrs:{text:""},on:{click:function(t){e.cancelDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)},ae=[],re={name:"MeetingCard",data:()=>({meetingStatusToColor:ie.c1,reasonInput:"",cancelDialog:!1,menu:!1}),methods:{submitCancelMeeting(){this.$refs.cancelForm.validate()&&(this.cancelDialog=!1,this.$emit("cancel",this.meetingId,this.reasonInput))},promptConfirmation(){this.cancelDialog=!0},formattedDate(e){return(0,se.getFormattedDate)(e,!0)},formattedTime(e){return(0,se.getFormattedTime)(e)}},computed:{showActions(){return!("COMPLETED"===this.meetingStatus||"CANCELLED"===this.meetingStatus)}},props:{reason:{require:!1,type:String},name:{require:!0,type:String},email:{require:!0,type:String},description:{require:!0,type:String},meetingStatus:{require:!0,type:String},venue:{require:!1,type:String},date:{require:!0,type:Date},startTime:{require:!0,type:Date},endTime:{require:!0,type:Date},meetingId:{require:!0,type:Number}}},oe=re,le=i(7118),ce=i(5424),ue=i(4497),de=i(6232),me=i(6421),ve=i(5978),he=(0,d.Z)(oe,ne,ae,!1,null,"1c46bcba",null),pe=he.exports;v()(he,{VAvatar:h.Z,VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VCardSubtitle:le.Qq,VCardText:le.ZB,VCardTitle:le.EB,VChip:ce.Z,VDialog:ue.Z,VDivider:k.Z,VForm:de.Z,VIcon:D.Z,VImg:J.Z,VList:j.Z,VListItem:S.Z,VListItemAvatar:me.Z,VListItemContent:I.km,VListItemIcon:V.Z,VListItemSubtitle:I.oZ,VListItemTitle:I.V9,VMenu:M.Z,VSpacer:A.Z,VTextField:ve.Z});i(1703);async function ge(){let e=[];try{const t=await fetch("/api/meeting/public");if(200===t.status){for(const i of await t.json()){const t={};t.name=i.name,t.student_id=i.student_id,t.email=i.email,t.meeting_status=i.meeting_status,t.venue=i.venue,t.description=i.description;let s=new Date(i.date);t.date=(0,se.getMysqlFormattedDate)(s),t.start=(0,se.getMysqlFormattedDate)(s)+" "+i.start_time,t.end=(0,se.getMysqlFormattedDate)(s)+" "+i.end_time,t.color=ie.c1[t.meeting_status],t.meeting_id=i.meeting_id,e.push(t)}return e}return null}catch(t){return console.log(t),null}}async function fe(e,t,i){let s={counsellor_id:e,meeting_id:t,venue:i};const n=await(await fetch("/api/meeting/accept",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(s)})).json();if(!n.success)throw new Error(n.message);return n}async function ye(e){const t=await(await fetch("/api/meeting/complete",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({meeting_id:e})})).json();if(!t.success)throw new Error(t.message);return t}async function be(e,t){let i={meeting_id:e,reason:t};const s=await(await fetch("/api/meeting/decline",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(i)})).json();if(!s.success)throw new Error(s.message);return s}async function _e(){let e=[];try{const t=await fetch("/api/meeting/user");if(200===t.status){for(const i of await t.json())i.date=new Date(i.date),i.start_time=new Date((0,se.getMysqlFormattedDate)(i.date)+" "+i.start_time),i.end_time=new Date((0,se.getMysqlFormattedDate)(i.date)+" "+i.end_time),e.push(i);return e}return[]}catch(t){return console.log(t),[]}}async function we(e,t,i,s,n){let a={student_id:e,description:t,date:i,start_time:s,end_time:n};const r=await(await fetch("/api/meeting/schedule",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(a)})).json();if(!r.success)throw new Error(r.message);return r}var Ce={name:"MeetingSchedule",components:{MeetingCard:pe},data:()=>({completeDialog:!1,meetingStatusToColor:ie.c1,pendingMeetings:[],events:[],targetDate:te()().format("YYYY-MM-DD"),descriptionInput:null,selectedOpen:!1,selectedElement:null,selectedEvent:{name:"",meeting_status:"CANCELLED"},acceptDialog:!1,venueInput:"",declineDialog:!1,reasonInput:"",scheduleDialog:!1,cancelDialog:!1,ready:!1,mode:"week",showCreatePrompt:!1,newMeeting:null,meetingStartTime:null,meetingEndTime:null,meetingDate:null,dragEvent:null,dragStart:null,createStart:null,extendOriginal:null}),computed:{showCancelMeetingActions(){return!!this.$store.state.user&&("SCHEDULED"===this.selectedEvent.meeting_status&&this.$store.state.user.isAdmin||this.selectedEvent.student_id===this.$store.state.user.user_id)},showConfirmMeetingActions(){return!!this.$store.state.user&&(this.$store.state.user.isAdmin&&"PENDING"===this.selectedEvent.meeting_status)},showCompleteMeetingActions(){return!!this.$store.state.user&&(this.$store.state.user.isAdmin&&"SCHEDULED"===this.selectedEvent.meeting_status&&new Date(this.selectedEvent.end)<new Date)},cal(){return this.ready?this.$refs.calendar:null}},mounted(){this.ready=!0,this.scrollToTime(),this.updateTime(),this.reloadPublicMeetings()},methods:{submitCompleteMeeting(){ye(this.selectedEvent.meeting_id).then((e=>{this.completeDialog=!1,e.success?this.$store.commit("showSnackbar","Successfully completed meeting! A minutes file has been created!"):this.$store.commit("showSnackbar","There was an error completing the meeting :("),this.reloadPublicMeetings()}))},closeAcceptDialog(){this.$refs.acceptForm.reset(),this.acceptDialog=!1},submitAcceptMeeting(){this.$refs.acceptForm.validate()&&fe(this.$store.state.user.user_id,this.selectedEvent.meeting_id,this.venueInput).then((e=>{this.closeAcceptDialog(),e.success?this.$store.commit("showSnackbar","Successfully accepted meeting!"):this.$store.commit("showSnackbar","There was an error accepting the meeting :("),this.reloadPublicMeetings()}))},submitDeclineMeeting(){this.$refs.declineForm.validate()&&be(this.selectedEvent.meeting_id,this.reasonInput).then((e=>{this.closeDeclineDialog(),e.success?this.$store.commit("showSnackbar","Successfully declined meeting!"):this.$store.commit("showSnackbar","There was an error declining the meeting :("),this.reloadPublicMeetings()}))},submitCancelMeeting(){this.$refs.cancelForm.validate()&&be(this.selectedEvent.meeting_id,this.reasonInput).then((e=>{this.closeCancelDialog(),e.success?this.$store.commit("showSnackbar","Successfully cancelled meeting!"):this.$store.commit("showSnackbar","There was an error cancelling the meeting :("),this.reloadPublicMeetings()}))},closeDeclineDialog(){this.$refs.declineForm.reset(),this.declineDialog=!1},closeCancelDialog(){this.$refs.cancelForm.reset(),this.cancelDialog=!1},closeScheduleDialog(){this.$refs.scheduleForm.reset(),this.scheduleDialog=!1},reloadPublicMeetings(){this.cancelScheduleNewMeeting(),ge().then((e=>{this.events=e}))},getFormattedDate:se.getFormattedDate,getFormattedTime:se.getFormattedTime,submitMeetingSchedule(){this.$refs.scheduleForm.validate()&&we(this.$store.state.user.user_id,this.descriptionInput,(0,se.getMysqlFormattedDate)(this.newMeeting.start),(0,se.getMysqlFormattedTime)(this.newMeeting.start),(0,se.getMysqlFormattedTime)(this.newMeeting.end)).then((e=>{this.closeScheduleDialog(),e.success?(this.$store.commit("showSnackbar","Successfully scheduled meeting!"),this.cancelScheduleNewMeeting()):this.$store.commit("showSnackbar","There was an error scheduling your meeting :("),this.reloadPublicMeetings()}))},showMeetingDetails({nativeEvent:e,event:t}){if(this.newMeeting&&t.name===this.newMeeting.name)return;const i=()=>{this.selectedEvent=t,this.selectedElement=e.target,requestAnimationFrame((()=>requestAnimationFrame((()=>this.selectedOpen=!0))))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((()=>requestAnimationFrame((()=>i()))))):i(),e.stopPropagation()},goToNextPage(){this.$refs.calendar.next(),this.cancelScheduleNewMeeting()},goToPreviousPage(){this.$refs.calendar.prev(),this.cancelScheduleNewMeeting()},changeCalendarMode(){"month"===this.mode?this.mode="week":this.mode="month",this.cancelScheduleNewMeeting()},cancelScheduleNewMeeting(){this.deleteNewMeeting(),this.showCreatePrompt=!1},deleteNewMeeting(){this.newMeeting&&(this.events.pop(),this.newMeeting=null)},startDrag({event:e,timed:t}){e&&t&&(this.dragEvent=e,this.dragTime=null,this.extendOriginal=null)},startTime(e){const t=this.toTime(e),i=this.toDate(e);if(!(i<Date.now()||0===i.getDay()||6===i.getDay()))if(this.dragEvent&&null===this.dragTime){const e=this.dragEvent.start;this.dragTime=t-e}else this.createStart=this.roundTime(t),this.newMeeting&&this.events.pop(),this.newMeeting={name:"New Meeting",color:"primary",start:this.createStart,end:this.createStart+18e5,timed:!0},this.events.push(this.newMeeting),this.checkForCollisions()},checkForCollisions(){for(let e=0;e<this.events.length-1;e++){let t=this.events[e],i=new Date(t.start),s=new Date(t.end);if(!(this.newMeeting.end<=i.getTime()||this.newMeeting.start>=s.getTime())){this.deleteNewMeeting();break}}},mouseMove(e){const t=this.toTime(e);if(this.newMeeting&&null!==this.createStart){const e=this.roundTime(t,!1);if(this.newMeeting.createStart>e)return;this.newMeeting.start=this.createStart;let i=Math.max(e,this.createStart+18e5);this.newMeeting.end=Math.min(i,this.createStart+30*ie.jU*60*1e3);for(let t=0;t<this.events.length-1;t++){let e=this.events[t],i=new Date(e.start),s=new Date(e.end);s.getTime()<=this.newMeeting.start||(this.newMeeting.end=Math.min(this.newMeeting.end,i.getTime()))}}},endDrag(){this.dragTime=null,this.dragEvent=null,this.createStart=null,this.extendOriginal=null},cancelDrag(){this.newMeeting&&this.extendOriginal&&(this.newMeeting.end=this.extendOriginal),this.endDrag()},roundTime(e,t=!0){const i=30,s=60*i*1e3;return t?e-e%s:e+(s-e%s)},toDate(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute)},toTime(e){return this.toDate(e).getTime()},viewWeek(){this.mode="week"},getReadTime(){return te()().format("MMMM Do YYYY, h:mm:ss a")},currDateFormatted(){return te()(this.targetDate).format("MMMM YYYY")},getCurrentTime(){return this.cal?60*this.cal.times.now.hour+this.cal.times.now.minute:0},scrollToTime(){const e=this.getCurrentTime(),t=Math.max(0,e-e%30-30);this.cal.scrollToTime(t)},updateTime(){setInterval((()=>this.cal.updateTimes()),6e4)}},watch:{newMeeting:{handler(e){if(!e)return;this.showCreatePrompt=!0;let t=new Date(this.newMeeting.start),i=new Date(this.newMeeting.end);this.meetingStartTime=(0,se.getFormattedTime)(t),this.meetingEndTime=(0,se.getFormattedTime)(i),this.meetingDate=(0,se.getFormattedDate)(t)},deep:!0},"$store.state.user":function(){this.reloadPublicMeetings()},showCreatePrompt:{handler(){this.$nextTick((()=>{this.$refs.bottomSheet.showScroll()}))}}}},ke=Ce,xe=i(1165),De=i(8819),je=i(3385),Se=i(5533),Ie=(0,d.Z)(ke,K,X,!1,null,null,null),Ve=Ie.exports;v()(Ie,{VBottomSheet:xe.Z,VBtn:w.Z,VCalendar:De.Z,VCard:C.Z,VCardActions:le.h7,VCardText:le.ZB,VCardTitle:le.EB,VChip:ce.Z,VCol:B.Z,VContainer:z.Z,VDialog:ue.Z,VDivider:k.Z,VForm:de.Z,VIcon:D.Z,VList:j.Z,VListItem:S.Z,VListItemContent:I.km,VListItemIcon:V.Z,VListItemSubtitle:I.oZ,VListItemTitle:I.V9,VMenu:M.Z,VRow:H.Z,VSheet:je.Z,VSpacer:A.Z,VSubheader:Se.Z,VTextField:ve.Z});var Ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",[s("v-col",{staticClass:"col-md-12 col-lg-5"},[s("h1",{staticClass:"text-h2 font-weight-bold"},[e._v("You're Almost There!")]),s("h3",[e._v("Kindly fill up the information below and we're good to go!")]),s("v-form",{ref:"form",staticClass:"mt-12"},[s("v-select",{attrs:{items:e.houseItems,label:"House",rules:e.houseInputRules,outlined:""},model:{value:e.house,callback:function(t){e.house=t},expression:"house"}}),s("v-select",{attrs:{items:e.yearItems,label:"Year",rules:e.yearInputRules,outlined:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),s("v-select",{attrs:{items:e.mentorItems,rules:e.mentorInputRules,label:"Mentor Group",outlined:""},model:{value:e.mentorClass,callback:function(t){e.mentorClass=t},expression:"mentorClass"}}),s("v-autocomplete",{attrs:{label:"Major",chips:"","deletable-chips":"",outlined:"",multiple:"",rules:e.majorInputRules,items:e.majorItems},model:{value:e.majors,callback:function(t){e.majors=t},expression:"majors"}}),s("v-autocomplete",{attrs:{label:"Honours",chips:"","deletable-chips":"",outlined:"",multiple:"",rules:[e.majorsAndHonoursRule],items:e.majorItems},model:{value:e.honours,callback:function(t){e.honours=t},expression:"honours"}}),s("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:e.submit}},[e._v(" submit ")])],1)],1),s("v-spacer"),s("v-col",{staticClass:"col-lg-6 mt-12"},[s("v-img",{attrs:{src:i(1473)}})],1)],1)],1)},Me=[],Fe=i(1601),Te={data:()=>({house:"",majors:[],honours:[],mentorClass:"",year:0,houseInputRules:[e=>!!e||"House is Required"],mentorInputRules:[e=>!!e||"Mentor Class is Required"],majorInputRules:[e=>e.length>=2||"At least two majors is required"],yearInputRules:[e=>!!e||"Year is Required"],houseItems:ie.e1,yearItems:Array.from(Array(6).keys()).map((e=>e+1)),mentorItems:ie.Dx,majorItems:ie.po}),name:"RegisterView",computed:{majorsAndHonoursRule(){return!this.honours.some((e=>this.majors.every((t=>t!==e))))||"You can only honour in a subject that you major in!"}},methods:{submit(){this.$refs.form.validate()&&(0,Fe.postRegistrationData)(this.house,this.year,this.majors,this.honours,this.mentorClass).then((e=>{e.success?(this.$store.commit("showSnackbar","Registration details have been submitted successfully!"),window.location.href="/calendar"):this.$store.commit("showSnackbar","There was an error submitting you details! Please try again.")}))}}},Ae=Te,Ee=i(1835),Re=i(3986),Ue=(0,d.Z)(Ae,Ze,Me,!1,null,"31412b7d",null),qe=Ue.exports;v()(Ue,{VAutocomplete:Ee.Z,VBtn:w.Z,VCol:B.Z,VContainer:z.Z,VForm:de.Z,VImg:J.Z,VRow:H.Z,VSelect:Re.Z,VSpacer:A.Z});var Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[s("v-row",[s("v-img",{staticStyle:{position:"relative","align-items":"center"},attrs:{src:i(5032),"max-height":"300"}},[s("h1",{staticClass:"display-2 font-weight-bold pa-4",staticStyle:{"text-align":"center",color:"white"}},[e._v(" University Database")])])],1),e.isAdmin?s("v-row",[s("v-btn",{staticClass:"ml-6 mt-4",attrs:{text:"",color:"primary"},on:{click:function(t){e.addUniversity=!0}}},[s("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add University ")],1)],1):e._e(),s("v-dialog",{attrs:{width:"100%"},model:{value:e.addUniversity,callback:function(t){e.addUniversity=t},expression:"addUniversity"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Add New University")]),s("v-card-text",[s("v-form",{ref:"uniForm",staticClass:"pt-4"},[s("v-text-field",{attrs:{label:"Name",dense:"",rules:[e.nameRules,e.nameIsUnique],"prepend-icon":"mdi-town-hall",outlined:""},model:{value:e.uniNameInput,callback:function(t){e.uniNameInput=t},expression:"uniNameInput"}}),s("v-text-field",{attrs:{label:"Country",dense:"",rules:e.countryRules,"prepend-icon":"mdi-earth",outlined:""},model:{value:e.countryInput,callback:function(t){e.countryInput=t},expression:"countryInput"}}),s("v-text-field",{attrs:{label:"State",rules:e.stateRules,"prepend-icon":"mdi-map-marker-radius",dense:"",outlined:""},model:{value:e.stateInput,callback:function(t){e.stateInput=t},expression:"stateInput"}}),s("v-text-field",{attrs:{label:"Enrollment",dense:"",type:"number",rules:e.enrollRules,"prepend-icon":"mdi-account-multiple",outlined:""},model:{value:e.enrollmentInput,callback:function(t){e.enrollmentInput=t},expression:"enrollmentInput"}}),s("v-text-field",{attrs:{label:"Website",dense:"",rules:e.websiteRules,"prepend-icon":"mdi-web",outlined:""},model:{value:e.websiteInput,callback:function(t){e.websiteInput=t},expression:"websiteInput"}}),s("v-file-input",{attrs:{outlined:"",dense:"",accept:"image/*",label:"Logo",loading:e.isUploading,rules:[function(e){return!!e||"Logo image is required"}]},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}}),s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{label:"Application Start Date",readonly:"",dense:"",outlined:"","prepend-icon":"mdi-calendar-start",value:e.format(e.startDate),rules:[e.startDateRules]}},i))]}}]),model:{value:e.startDatePicker,callback:function(t){e.startDatePicker=t},expression:"startDatePicker"}},[s("v-date-picker",{attrs:{min:(new Date).toISOString().substring(0,10)},on:{input:function(t){e.startDatePicker=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{label:"Application End Date",readonly:"",dense:"",outlined:"","prepend-icon":"mdi-calendar-end",value:e.format(e.endDate),rules:e.endDateRules}},i))]}}]),model:{value:e.endDatePicker,callback:function(t){e.endDatePicker=t},expression:"endDatePicker"}},[s("v-date-picker",{attrs:{min:(new Date).toISOString().substring(0,10)},on:{input:function(t){e.endDatePicker=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)],1)],1),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{color:"primary"},on:{click:e.submitAddUniversity}},[e._v(" Done ")]),s("v-btn",{attrs:{text:""},on:{click:function(t){e.addUniversity=!1}}},[e._v(" Cancel ")])],1)],1)],1),s("v-dialog",{model:{value:e.addCourse,callback:function(t){e.addCourse=t},expression:"addCourse"}},[s("v-card",{attrs:{tile:""}},[s("v-toolbar",{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Add New Course")]),s("v-card-text",[s("v-form",{ref:"courseForm",staticClass:"pt-4"},[s("v-text-field",{attrs:{label:"Title",dense:"",rules:[e.titleRules],"prepend-icon":"mdi-school",outlined:""},model:{value:e.courseTitleInput,callback:function(t){e.courseTitleInput=t},expression:"courseTitleInput"}}),s("v-text-field",{attrs:{label:"Faculty",dense:"",rules:[function(e){return!!e||"Faculty is required"}],"prepend-icon":"mdi-office-building",outlined:""},model:{value:e.facultyInput,callback:function(t){e.facultyInput=t},expression:"facultyInput"}}),s("v-text-field",{attrs:{label:"Description",rules:[function(e){return!!e||"Description is required"}],"prepend-icon":"mdi-text",dense:"",outlined:""},model:{value:e.courseDescInput,callback:function(t){e.courseDescInput=t},expression:"courseDescInput"}}),s("v-text-field",{attrs:{label:"Tuition Fee",dense:"",type:"number",rules:[function(e){return!!e||"Tuition fee is required"}],"prepend-icon":"mdi-currency-usd",outlined:""},model:{value:e.tuitionFeeInput,callback:function(t){e.tuitionFeeInput=t},expression:"tuitionFeeInput"}}),s("v-text-field",{attrs:{label:"Duration (Years)",dense:"",type:"number",rules:[function(e){return!!e||"Duration is required"}],"prepend-icon":"mdi-clock",outlined:""},model:{value:e.durationInput,callback:function(t){e.durationInput=t},expression:"durationInput"}}),s("v-file-input",{attrs:{outlined:"",dense:"",accept:"image/*",label:"Logo",loading:e.isUploading,rules:[function(e){return!!e||"Course image is required"}]},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}})],1)],1),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{color:"primary"},on:{click:e.submitAddCourse}},[e._v(" Done ")]),s("v-btn",{attrs:{text:""},on:{click:function(t){e.addCourse=!1}}},[e._v(" Cancel ")])],1)],1)],1),s("v-row",{staticClass:"px-8 py-4"},e._l(e.universities,(function(t){return s("v-col",{key:t.name,attrs:{cols:"4"}},[s("v-card",[s("v-img",{staticClass:"mx-auto my-2",attrs:{contain:"",width:"250",height:"250",src:t.image_link}}),s("v-card-title",{staticClass:"pt-0"},[e._v(e._s(t.name))]),s("v-card-subtitle",[e._v(e._s(t.state)+", "+e._s(t.country))]),s("v-list",[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account-multiple")])],1),s("v-list-item-content",[e._v("Enrollment")]),s("v-list-item-action",[s("v-chip",{attrs:{color:"primary"}},[e._v(e._s(t.enrollment))])],1)],1),s("v-list-item",{attrs:{"two-line":""}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-calendar-clock")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Application Period")]),s("v-list-item-subtitle",[e._v(e._s(e.getFormattedDate(t.app_start_date,!0,!0))+" to "+e._s(e.getFormattedDate(t.app_end_date,!0,!0))+" ")])],1)],1)],1),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-spacer"),s("v-btn",{attrs:{color:"primary"},on:{click:function(i){e.selectedUni=t,e.showCourses=!0}}},[s("v-icon",{staticClass:"pr-3"},[e._v("mdi-school")]),e._v(" Courses ")],1),s("v-btn",{attrs:{color:"primary",href:t.website}},[s("v-icon",{staticClass:"pr-3"},[e._v("mdi-web")]),e._v(" Website ")],1)],1)],1)],1)})),1),s("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.showCourses,callback:function(t){e.showCourses=t},expression:"showCourses"}},[s("v-card",{attrs:{tile:""}},[s("v-card-text",{staticClass:"px-0"},[s("v-card-title",{staticClass:"primary white--text font-weight-bold"},[e._v(" Courses "),s("v-spacer"),s("v-btn",{attrs:{color:"white",icon:""},on:{click:function(t){e.showCourses=!1}}},[s("v-icon",[e._v("mdi-close")])],1)],1),e.isAdmin?s("v-btn",{staticClass:"ml-6 mt-4",attrs:{text:"",color:"primary"},on:{click:function(t){e.addCourse=!0}}},[s("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Course ")],1):e._e(),s("v-container",{attrs:{fluid:""}},e._l(e.courseForSelectedUni,(function(t){return s("div",{key:t[0].faculty},[s("v-subheader",[e._v(e._s(t[0].faculty))]),e._l(t,(function(e){return s("v-row",{key:e.title},[s("v-col",[s("CourseCard",{key:e.title,attrs:{name:e.title,description:e.description,src:e.image_link,cost:e.tuition_fee,duration:e.duration}})],1)],1)}))],2)})),0)],1)],1)],1)],1)},$e=[];async function Pe(){try{const e=await fetch("/api/uni");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function Ne(e,t,i,s,n,a,r,o){let l={name:e,country:t,state:i,enrollment:s,website:n,imageLink:a,startDate:r,endDate:o};return await(await fetch("/api/uni/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(l)})).json()}var Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{attrs:{elevation:"2",outlined:""}},[i("v-list-item",[i("v-list-item-avatar",{attrs:{tile:"",size:"150"}},[i("v-img",{attrs:{src:e.src}})],1),i("v-list-item-content",[i("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[i("v-list-item-title",{staticClass:"headline font-weight-bold"},[e._v(e._s(e.name))]),i("p",[e._v(e._s(e.description))]),i("v-chip",{staticClass:"mr-2",attrs:{color:"primary",label:""}},[i("v-avatar",{attrs:{left:""}},[i("v-icon",[e._v("mdi-currency-usd")])],1),e._v(" "+e._s(e.cost)+" ")],1),i("v-chip",{attrs:{label:"",color:"primary"}},[i("v-avatar",{attrs:{left:""}},[i("v-icon",[e._v("mdi-clock-time-eight")])],1),e._v(" "+e._s(e.duration)+" ")],1)],1)],1),i("v-btn",{attrs:{color:"primary","max-height":"auto"}},[e._v("Apply")])],1)],1)},Ge=[],Ye={name:"CourseCard",props:{src:{requestId:!0,type:String},name:{require:!0,type:String},description:{require:!0,type:String},cost:{require:!0,type:String},duration:{require:!0,type:Number}}},Be=Ye,ze=(0,d.Z)(Be,Le,Ge,!1,null,"21b788aa",null),Je=ze.exports;v()(ze,{VAvatar:h.Z,VBtn:w.Z,VCard:C.Z,VChip:ce.Z,VContainer:z.Z,VIcon:D.Z,VImg:J.Z,VListItem:S.Z,VListItemAvatar:me.Z,VListItemContent:I.km,VListItemTitle:I.V9});var He=i(5503),Qe=i(1153);const We={apiKey:"AIzaSyAz3q1nX9gfNeKBnU0MmWWY8SH2rKG3jCQ",authDomain:"centros-417e4.firebaseapp.com",projectId:"centros-417e4",storageBucket:"centros-417e4.appspot.com",messagingSenderId:"460576686538",appId:"1:460576686538:web:2bec34e6f76cf23729cf33"},Ke=(0,He.ZF)(We),Xe=(0,Qe.cF)(Ke);async function et(e,t,i){const s=(0,Qe.iH)(Xe,t);return await(0,Qe.KV)(s,e,i)}async function tt(e){return await(0,Qe.Jt)((0,Qe.iH)(Xe,e))}async function it(){try{const e=await fetch("/api/course");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function st(e,t,i,s,n,a,r){let o={uni_name:e,title:t,faculty:i,description:s,tuition_fee:n,duration:a,image_link:r};return await(await fetch("/api/course/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(o)})).json()}var nt={name:"UniversityView",components:{CourseCard:Je},data:()=>({uniNameInput:"",countryInput:"",stateInput:"",enrollmentInput:null,websiteInput:"",imageFile:null,startDate:null,endDate:null,isUploading:!1,addUniversity:!1,startDatePicker:!1,endDatePicker:!1,courses:[],addCourse:!1,courseTitleInput:"",facultyInput:"",courseDescInput:"",tuitionFeeInput:"",durationInput:"",nameRules:[e=>!!e||"Name is required"],countryRules:[e=>!!e||"Country is required"],enrollRules:[e=>!!e||"Enrollment is required"],stateRules:[e=>!!e||"State is required"],websiteRules:[e=>!!e||"Website is required"],endDateRules:[e=>!!e||"End date is required"],universities:[],selectedUni:null,showCourses:!1,headers:[{text:"Name",value:"name"},{text:"Enrollment",value:"enrollment"},{text:"Country",value:"country"},{text:"State",value:"state"},{text:"Application Start Date",value:"app_start_date"},{text:"Application End Date",value:"app_end_date"}]}),computed:{courseForSelectedUni(){if(!this.selectedUni)return[];let e=this.courses.filter((e=>e.uni_name===this.selectedUni.name)),t={};for(let i=0;i<e.length;++i)t[e[i].faculty]||(t[e[i].faculty]=[]),t[e[i].faculty].push(e[i]);return t},nameIsUnique(){return!this.universities.some((e=>e.name===this.uniNameInput))||"University with name "+this.uniNameInput+" already exists!"},titleRules(){return this.courseTitleInput?!Object.values(this.courseForSelectedUni).some((e=>e.some((e=>e.title===this.courseTitleInput))))||"Course title already exists!":"Title is required!"},startDateRules(){return this.startDate?!this.startDate||!this.endDate||(!(this.startDate>this.endDate)||"Application Start Date must be before End"):"Start Date is Required"},isAdmin(){return!!this.$store.state.user&&this.$store.state.user.isAdmin}},methods:{getFormattedDate:se.getFormattedDate,reloadCourse(){it().then((e=>{this.courses=e}))},reloadUniversity(){Pe().then((e=>{this.universities=e}))},format(e){return(0,se.getFormattedDate)(e,!0)},submitAddCourse(){if(this.$refs.courseForm.validate()){this.isUploading="primary";const t="course/"+this.selectedUni.name+"/"+this.courseTitleInput;try{et(this.imageFile,t).then((()=>{tt(t).then((e=>{st(this.selectedUni.name,this.courseTitleInput,this.facultyInput,this.courseDescInput,this.tuitionFeeInput,this.durationInput,e).then((e=>{this.$refs.courseForm.reset(),this.isUploading=!1,this.addCourse=!1,e.success?this.$store.commit("showSnackbar","Successfully added course!"):this.$store.commit("showSnackbar","There was an error adding the course :("),this.reloadCourse()}))}))}),{contentType:this.imageFile.type})}catch(e){this.addUniversity=!1,this.$store.commit("showSnackbar","Oops! There was an while uploading :(")}}},submitAddUniversity(){if(this.$refs.uniForm.validate()){this.isUploading="primary";const t="university/"+this.uniNameInput;try{et(this.imageFile,t).then((()=>{tt(t).then((e=>{Ne(this.uniNameInput,this.countryInput,this.stateInput,this.enrollmentInput,this.websiteInput,e,this.startDate,this.endDate).then((e=>{this.$refs.uniForm.reset(),this.isUploading=!1,this.addUniversity=!1,e.success?this.$store.commit("showSnackbar","Successfully added university!"):this.$store.commit("showSnackbar","There was an error adding the university :("),this.reloadUniversity()}))}))}),{contentType:this.imageFile.type})}catch(e){this.addUniversity=!1,this.$store.commit("showSnackbar","Oops! There was an while uploading :(")}}}},mounted(){this.reloadCourse(),this.reloadUniversity()}},at=nt,rt=i(8588),ot=i(7781),lt=i(3099),ct=i(6656),ut=(0,d.Z)(at,Oe,$e,!1,null,"218d6a13",null),dt=ut.exports;v()(ut,{VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VCardSubtitle:le.Qq,VCardText:le.ZB,VCardTitle:le.EB,VChip:ce.Z,VCol:B.Z,VContainer:z.Z,VDatePicker:rt.Z,VDialog:ue.Z,VFileInput:ot.Z,VForm:de.Z,VIcon:D.Z,VImg:J.Z,VList:j.Z,VListItem:S.Z,VListItemAction:lt.Z,VListItemContent:I.km,VListItemIcon:V.Z,VListItemSubtitle:I.oZ,VListItemTitle:I.V9,VMenu:M.Z,VRow:H.Z,VSpacer:A.Z,VSubheader:Se.Z,VTextField:ve.Z,VToolbar:ct.Z});var mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{src:i(4800),"max-width":"40%"}})],1),s("v-row",{staticClass:"py-12",attrs:{justify:"center"}},[s("h1",[e._v("Oops, we couldn't find this page...")])])],1)},vt=[],ht={name:"FileNotFound"},pt=ht,gt=(0,d.Z)(pt,mt,vt,!1,null,"56287ddf",null),ft=gt.exports;v()(gt,{VContainer:z.Z,VImg:J.Z,VRow:H.Z});var yt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"pa-0",attrs:{"fill-height":""}},[s("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"fill-height",attrs:{cols:"3"}},[s("v-navigation-drawer",{attrs:{permanent:""},scopedSlots:e._u([e.isAdmin?{key:"append",fn:function(){return[s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.categoryDialog=!0}}},[s("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Category ")],1)]},proxy:!0}:null],null,!0)},[s("v-list",{attrs:{dense:""}},[s("v-subheader",[e._v("CATEGORY")]),s("v-list-item-group",{model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}},e._l(e.categories,(function(t){return s("v-list-item",{key:t.name,attrs:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),s("v-dialog",{attrs:{width:"700"},model:{value:e.categoryDialog,callback:function(t){e.categoryDialog=t},expression:"categoryDialog"}},[s("v-card",[s("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Add A Category ")]),s("v-card-text",[s("v-form",{ref:"categoryForm"},[s("v-text-field",{attrs:{outlined:"",dense:"",rules:[function(e){return!!e||"Category name is required"},e.isNewCategory],label:"Category"},model:{value:e.categoryInput,callback:function(t){e.categoryInput=t},expression:"categoryInput"}})],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCreateCategory}},[e._v(" Confirm ")]),s("v-btn",{attrs:{text:""},on:{click:e.closeCreateCategory}},[e._v(" Cancel ")])],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"9"}},[s("v-dialog",{attrs:{width:"500"},model:{value:e.guideDialog,callback:function(t){e.guideDialog=t},expression:"guideDialog"}},[s("v-card",{attrs:{tile:""}},[s("v-card-title",{staticClass:"font-weight-bold"},[e._v("Add New Guide")]),s("v-card-text",[s("v-form",{ref:"guideForm",staticClass:"pt-4"},[s("v-text-field",{attrs:{label:"Title",dense:"",rules:[function(e){return!!e||"Title is required!"}],"prepend-icon":"mdi-pencil",outlined:""},model:{value:e.titleInput,callback:function(t){e.titleInput=t},expression:"titleInput"}}),s("v-text-field",{attrs:{label:"Description",dense:"",rules:[function(e){return!!e||"Description is required!"}],"prepend-icon":"mdi-text",outlined:""},model:{value:e.descriptionInput,callback:function(t){e.descriptionInput=t},expression:"descriptionInput"}}),s("v-file-input",{attrs:{outlined:"",dense:"",accept:"image/*",label:"Cover Image",loading:e.isUploading,rules:[function(e){return!!e||"Cover image is required"}]},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}}),s("p",[e._v(" Which file would you like to make as a Guide? ")]),s("v-autocomplete",{attrs:{"prepend-icon":"mdi-file",dense:"",items:e.files,"no-data-text":"No Files Found",clearable:"",label:"Select File",solo:"",outlined:"",flat:"",rules:[function(e){return!!e||"File is required"}]},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})],1)],1),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{color:"primary"},on:{click:e.submitCreateGuide}},[e._v(" Submit ")]),s("v-btn",{attrs:{text:""},on:{click:e.closeCreateGuide}},[e._v(" Cancel ")])],1)],1)],1),0===e.categories.length?s("v-container",{staticClass:"fill-height"},[s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-img",{attrs:{contain:"","max-height":"200",src:i(7845)}}),s("p",{staticClass:"overline mt-4"},[e._v("There's No Categories to Show :(")])],1)],1):e._e(),e.categories.length>0?s("v-container",{staticClass:"d-flex flex-wrap justify-center"},[e.isAdmin?s("div",[s("v-btn",{staticClass:"mb-2",attrs:{text:"",color:"primary"},on:{click:e.openCreateGuide}},[s("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Guide ")],1),s("v-spacer")],1):e._e(),s("v-container",[0===e.getGuidesForSelectedCategory.length?s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-img",{attrs:{contain:"","max-height":"200",src:i(7069)}}),s("p",{staticClass:"overline mt-4"},[e._v("There's No Guides in this category for now :(")])],1):e._e()],1),e._l(e.getGuidesForSelectedCategory,(function(t){return s("v-card",{key:t.document_id,staticClass:"mb-4",attrs:{width:"720",outlined:""}},[s("v-img",{attrs:{height:"200",src:t.image_link}}),s("v-card-title",[s("h3",{staticClass:"font-weight-bold"},[e._v(e._s(t.title))])]),s("v-card-subtitle",[s("p",{staticClass:"ma-0"},[e._v(e._s(t.publisher))])]),s("v-card-text",[e._v(" "+e._s(t.description)+" ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{outlined:"",color:"primary",href:t.link}},[s("v-icon",[e._v("mdi-open-in-new")]),e._v(" View ")],1)],1)],1)}))],2):e._e()],1)],1)],1)},bt=[];async function _t(){try{const e=await fetch("/api/category");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function wt(e){const t=await(await fetch("/api/category/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e})})).json();if(!t.success)throw new Error(t.message);return t}const{getMysqlFormattedDate:Ct,getMysqlFormattedTime:kt}=i(9006);async function xt(e,t,i,s){let n={file_name:e,mime_type:t,link:i,access_time:kt(new Date),access_date:Ct(new Date),document_type:s};return await(await fetch("/api/document/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).json()}async function Dt(){try{const e=await fetch("/api/document/user");if(200===e.status){const t=[];for(const i of await e.json())i.last_access_datetime=new Date(Ct(i.last_access_date)+" "+i.last_access_time),i.last_access_date=(0,se.getFormattedDate)(new Date(i.last_access_date)),t.push(i);return t}return null}catch(e){return console.log(e),null}}async function jt(){try{const e=await fetch("/api/document/shared");if(200===e.status){const t=[];for(const i of await e.json())i.last_access_datetime=new Date(Ct(i.last_access_date)+" "+i.last_access_time),i.last_access_date=(0,se.getFormattedDate)(new Date(i.last_access_date)),t.push(i);return t}return null}catch(e){return console.log(e),null}}async function St(e,t,i,s,n){let a={document_id:e,category:t,title:i,description:s,image_link:n};return console.log(a),await(await fetch("/api/guide/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(a)})).json()}async function It(){try{const e=await fetch("/api/guide");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}var Vt={name:"GuidesView",data:()=>({selectedCategory:"",guides:[],titleInput:"",descriptionInput:"",isUploading:!1,imageFile:null,selectedFile:null,files:[],categories:[],guideDialog:!1,categoryInput:null,categoryDialog:!1}),computed:{isAdmin(){return!!this.$store.state.user&&this.$store.state.user.isAdmin},getGuidesForSelectedCategory(){return this.guides.filter((e=>e.category===this.selectedCategory))}},mounted(){this.reloadCategories(),this.reloadGuides()},methods:{reloadGuides(){It().then((e=>{this.guides=e}))},isNewCategory(e){return!this.categories.some((t=>e===t.name))||"Category name already exists!"},reloadCategories(){_t().then((e=>{this.categories=e,this.categories.length>0&&(this.selectedCategory=this.categories[0].name)}))},openCreateGuide(){Dt().then((e=>{for(const t of e)this.files.push({text:t.file_name,value:t.document_id,disabled:!1});this.guideDialog=!0}))},closeCreateGuide(){this.$refs.guideForm.reset(),this.guideDialog=!1},submitCreateGuide(){if(this.$refs.guideForm.validate()){this.isUploading="primary";const t=this.selectedFile,i="guides/"+t;try{et(this.imageFile,i).then((()=>{tt(i).then((e=>{St(t,this.selectedCategory,this.titleInput,this.descriptionInput,e).then((e=>{this.closeCreateGuide(),e.success?this.$store.commit("showSnackbar","Successfully created guide!"):this.$store.commit("showSnackbar","There was an error creating the guide :("),this.reloadGuides()}))}))}),{contentType:this.imageFile.type})}catch(e){this.closeCreateGuide(),this.$store.commit("showSnackbar","Oops! There was an while uploading :(")}}},closeCreateCategory(){this.$refs.categoryForm.reset(),this.categoryDialog=!1},submitCreateCategory(){this.$refs.categoryForm.validate()&&wt(this.categoryInput).then((e=>{this.closeCreateCategory(),e.success?this.$store.commit("showSnackbar","Successfully added Category!"):this.$store.commit("showSnackbar","There was an error while creating the category :("),this.reloadCategories()}))}}},Zt=Vt,Mt=i(7874),Ft=(0,d.Z)(Zt,yt,bt,!1,null,"39e81d52",null),Tt=Ft.exports;v()(Ft,{VAutocomplete:Ee.Z,VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VCardSubtitle:le.Qq,VCardText:le.ZB,VCardTitle:le.EB,VCol:B.Z,VContainer:z.Z,VDialog:ue.Z,VDivider:k.Z,VFileInput:ot.Z,VForm:de.Z,VIcon:D.Z,VImg:J.Z,VList:j.Z,VListItem:S.Z,VListItemGroup:Mt.Z,VNavigationDrawer:F.Z,VRow:H.Z,VSpacer:A.Z,VSubheader:Se.Z,VTextField:ve.Z});var At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticClass:"pa-0"},[s("v-tabs",{staticClass:"primary",attrs:{centered:"",grow:""},model:{value:e.tabSelected,callback:function(t){e.tabSelected=t},expression:"tabSelected"}},[s("v-tab",[e._v("My Files")]),s("v-tab",[e._v("Shared with Me")])],1),s("v-tabs-items",{model:{value:e.tabSelected,callback:function(t){e.tabSelected=t},expression:"tabSelected"}},[s("v-tab-item",[s("v-container",{staticClass:"pt-4 pa-0"},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{staticClass:"col-8"},[s("v-btn",{staticClass:"ml-4 pl-2",attrs:{text:"",color:"primary"},on:{click:function(t){e.addFile=!0}}},[s("v-icon",[e._v("mdi-plus")]),e._v(" New File ")],1)],1),s("v-col",[s("v-select",{staticClass:"pr-4",attrs:{dense:"",outlined:"","prepend-icon":"mdi-filter",items:e.sortItems,label:"Sort by"},model:{value:e.sortTypeSelected,callback:function(t){e.sortTypeSelected=t},expression:"sortTypeSelected"}})],1)],1),0===e.files.length?s("v-container",{staticClass:"mt-12",attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{contain:"","max-height":"200",src:i(9480)}})],1),s("v-row",{attrs:{justify:"center"}},[s("p",{staticClass:"overline mt-4"},[e._v("You do not have any files :(")])])],1):e._e(),s("v-row",{staticClass:"mt-0"},[e.files.length>0?s("v-container",{staticClass:"pt-0 d-flex flex-wrap"},e._l(e.files,(function(t){return s("FileCard",{key:t.document_id,attrs:{filename:t.file_name,filetype:t.file_type,link:t.link,"access-date":t.last_access_date,"access-time":t.last_access_time,"show-review":!0},on:{review:function(i){return e.submitReview(t)}}})})),1):e._e()],1)],1),s("v-dialog",{attrs:{width:"700"},model:{value:e.addFile,callback:function(t){e.addFile=t},expression:"addFile"}},[s("v-toolbar",{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Add New File")]),s("v-card",[s("v-card-text",[s("v-form",{ref:"form",staticClass:"pt-12"},[s("v-file-input",{attrs:{outlined:"",rules:[function(e){return!!e||"File is required"}],label:"File"},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-web",label:"Link",rules:[function(e){return!!e||"Link is required"}],outlined:""},model:{value:e.linkInput,callback:function(t){e.linkInput=t},expression:"linkInput"}})],1)],1),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{color:"primary"},on:{click:e.submitCreateDocument}},[e._v(" Done ")]),s("v-btn",{attrs:{text:""},on:{click:e.closeCreateDocument}},[e._v(" Cancel ")])],1)],1)],1)],1),s("v-tab-item",[0===e.sharedFiles.length?s("v-container",{staticClass:"mt-12",attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{contain:"","max-height":"200",src:i(9480)}})],1),s("v-row",{attrs:{justify:"center"}},[s("p",{staticClass:"overline mt-4"},[e._v("You do not have any files :(")])])],1):e._e(),e.sharedFiles.length>0?s("v-container",{staticClass:"pt-4 pa-0"},[s("v-row",{staticClass:"mt-0"},[s("v-container",{staticClass:"pt-0 d-flex flex-wrap"},e._l(e.sharedFiles,(function(e){return s("FileCard",{key:e.document_id,attrs:{filename:e.file_name,filetype:e.file_type,link:e.link,"access-date":e.last_access_date,"access-time":e.last_access_time,"show-review":!1}})})),1)],1)],1):e._e()],1)],1)],1)},Et=[],Rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mx-auto my-4 d-flex flex-column",attrs:{width:"240",elevation:"2",outlined:""}},[i("v-img",{staticClass:"mx-auto my-5",attrs:{"max-width":"125",contain:"",src:e.getImageForFileType()}}),i("v-card-title",[e._v(e._s(e.filename))]),i("v-card-subtitle",[e._v("Last Modified: "+e._s(e.accessDate)+" "+e._s(e.accessTime))]),i("v-spacer"),i("v-card-actions",[i("v-btn",{attrs:{color:"mary",text:"",href:e.link}},[e._v(" View ")]),i("v-spacer"),e.showReview?i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[i("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){e.confirmDialog=!0}}},"v-btn",n,!1),s),[i("v-icon",[e._v("mdi-message-draw")])],1)]}}],null,!1,1514194874)},[i("span",[e._v("Send for Review")])]):e._e(),i("v-dialog",{attrs:{width:"300"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Review File ")]),i("v-card-text",[e._v(" Are you sure you want to send this file for review? ")]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.handleReview}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:function(t){e.confirmDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1)},Ut=[],qt=i(6983),Ot=i(8943),$t=i(4725),Pt=i(667),Nt=i(8811),Lt=i(1262),Gt={name:"FileCardComponent",data:()=>({confirmDialog:!1}),methods:{getImageForFileType(){return"docx"===this.filetype?qt:"pptx"===this.filetype?Ot:"xlsx"===this.filetype?$t:"image"===this.filetype?Pt:"pdf"===this.filetype?Nt:Lt},handleReview(){this.confirmDialog=!1,this.$emit("review")}},props:{filetype:{require:!0,type:String},filename:{require:!0,type:String},accessDate:{require:!0,type:String},accessTime:{require:!0,type:String},link:{require:!0,type:String},showReview:{require:!0,type:Boolean}}},Yt=Gt,Bt=i(9330),zt=(0,d.Z)(Yt,Rt,Ut,!1,null,"46201b10",null),Jt=zt.exports;async function Ht(e,t,i){return await(await fetch("/api/review/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({document_id:e,request_date:t,request_time:i})})).json()}async function Qt(e){return await(await fetch("/api/review/complete",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({review_id:e})})).json()}async function Wt(){try{const e=await fetch("/api/review");if(200===e.status){let t=await e.json();for(let e of t)e.request_date=(0,se.getFormattedDate)(e.request_date,!0,!1);return t}return null}catch(e){return console.log(e),null}}v()(zt,{VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VCardSubtitle:le.Qq,VCardText:le.ZB,VCardTitle:le.EB,VDialog:ue.Z,VDivider:k.Z,VIcon:D.Z,VImg:J.Z,VSpacer:A.Z,VTooltip:Bt.Z});var Kt={name:"FileView",data:()=>({files:[],sharedFiles:[],linkInput:"",selectedFile:null,tabSelected:null,addFile:!1,sortTypeSelected:"Last Modified",sortItems:["Last Modified","Name","File Type"]}),methods:{reloadUserSharedDocument(){this.$store.state.user&&this.$store.state.user.isAdmin&&jt().then((e=>{this.sharedFiles=e}))},reloadUserDocument(){Dt().then((e=>{this.files=e}))},closeCreateDocument(){this.$refs.form.reset(),this.addFile=!1},submitCreateDocument(){this.$refs.form.validate()&&xt(this.selectedFile.name,this.selectedFile.type,this.linkInput,"DOCUMENT").then((e=>{this.closeCreateDocument(),e.success?this.$store.commit("showSnackbar","Successfully added file!"):this.$store.commit("showSnackbar","There was an error adding the file :("),this.reloadUserDocument()}))},submitReview(e){Ht(e.document_id,(0,se.getMysqlFormattedDate)(new Date),(0,se.getMysqlFormattedTime)(new Date)).then((e=>{e.success?this.$store.commit("showSnackbar","Successfully sent file for review!"):this.$store.commit("showSnackbar","There was an error sending the file for review :(")}))}},mounted(){this.reloadUserDocument(),this.reloadUserSharedDocument()},watch:{"$store.state.user":function(){this.reloadUserDocument(),this.reloadUserSharedDocument()},sortTypeSelected:function(){console.log("sorting"),"Last Modified"===this.sortTypeSelected?this.files.sort((function(e,t){return e.last_access_datetime>t.last_access_datetime})):"Name"===this.sortTypeSelected?this.files.sort((function(e,t){return e.file_name>t.file_name})):"File Type"===this.sortTypeSelected&&this.files.sort((function(e,t){return e.file_type>t.file_type}))}},components:{FileCard:Jt}},Xt=Kt,ei=i(4227),ti=i(1759),ii=i(2032),si=i(1954),ni=(0,d.Z)(Xt,At,Et,!1,null,"663949b4",null),ai=ni.exports;v()(ni,{VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VCardText:le.ZB,VCol:B.Z,VContainer:z.Z,VDialog:ue.Z,VFileInput:ot.Z,VForm:de.Z,VIcon:D.Z,VImg:J.Z,VRow:H.Z,VSelect:Re.Z,VTab:ei.Z,VTabItem:ti.Z,VTabs:ii.Z,VTabsItems:si.Z,VTextField:ve.Z,VToolbar:ct.Z});var ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",[i("v-list",{attrs:{"two-line":"",subheader:""}},[i("v-list-item",[i("v-list-item-content",[i("div",{staticClass:"mx-auto text-center"},[i("UserAvatar",{staticStyle:{"font-size":"6em"},attrs:{size:200}}),i("h1",{staticClass:"display-1 font-weight-black"},[e._v(e._s(e.user_name))]),i("h1",{staticClass:"subtitle-1"},[e._v(" "+e._s(e.user_email)+" ")])],1)])],1),i("v-divider"),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[e._v("Account Type")]),i("v-list-item-subtitle",[e._v(e._s(e.metadata.user_type))])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[e._v("House")]),i("v-list-item-subtitle",[e._v(e._s(e.metadata.house))])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[e._v("Graduation Year")]),i("v-list-item-subtitle",[e._v(e._s(e.metadata.graduation_year))])],1)],1),i("v-dialog",{attrs:{width:"450"},model:{value:e.editGradYear,callback:function(t){e.editGradYear=t},expression:"editGradYear"}},[i("v-card",[i("v-toolbar",{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Edit Graduation Year")]),i("div",{staticClass:"px-12 pt-12"},[i("v-select",{staticClass:"mx-12",attrs:{items:e.editGradYearItems,outlined:""}})],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"primary"}},[e._v(" Done ")])],1)],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[e._v("Mentor Group")]),i("v-list-item-subtitle",[e._v(e._s(e.metadata.mentor_group))])],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""},on:{click:function(t){e.editMentorGroup=!0}}},[i("v-icon",[e._v("mdi-pencil")])],1)],1)],1),i("v-dialog",{attrs:{width:"450"},model:{value:e.editMentorGroup,callback:function(t){e.editMentorGroup=t},expression:"editMentorGroup"}},[i("v-card",[i("v-toolbar",{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Edit Mentor Group")]),i("div",{staticClass:"px-12 pt-12"},[i("v-form",{ref:"editMentorGroupForm"},[i("v-select",{staticClass:"mx-12",attrs:{rules:[function(e){return!!e||"Please specify your Mentor Group"}],items:e.editMentorGroupItems,outlined:""},model:{value:e.editMentorGroupInput,callback:function(t){e.editMentorGroupInput=t},expression:"editMentorGroupInput"}})],1)],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"primary"},on:{click:e.submitEditMentorGroup}},[e._v(" Done ")])],1)],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-title",[e._v("Majors")]),i("v-chip-group",e._l(e.metadata.majors,(function(t){return i("v-chip",{key:t,attrs:{color:"primary"}},[e._v(e._s(t))])})),1)],1),i("v-list-item",[i("v-list-item-title",[e._v("Honours")]),i("v-chip-group",e._l(e.metadata.honours,(function(t){return i("v-chip",{key:t,attrs:{color:"primary"}},[e._v(e._s(t))])})),1)],1),i("v-dialog",{attrs:{width:"450"},model:{value:e.subjectEdit,callback:function(t){e.subjectEdit=t},expression:"subjectEdit"}},[i("v-card",[i("v-toolbar",{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Edit "+e._s(e.subjectEditMode))]),i("div",{staticClass:"px-12 pt-12"},[i("v-form",{ref:"subjectInput"},[i("v-autocomplete",{attrs:{label:e.subjectEditMode,chips:"","deletable-chips":"",outlined:"",multiple:"",rules:e.subjectInputRules,items:e.subjectItems},model:{value:e.subjectsSelected,callback:function(t){e.subjectsSelected=t},expression:"subjectsSelected"}})],1)],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"primary"},on:{click:e.submitSubjectChange}},[e._v(" Done ")])],1)],1)],1)],1),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{attrs:{"min-width":"300",color:"primary",href:"/signout"}},[i("v-icon",{staticClass:"mr-2"},[e._v(" mdi-logout ")]),e._v(" Logout ")],1)],1)],1)},oi=[],li=i(4397);const{getUserMetadata:ci}=i(4397);var ui={name:"ProfileView",components:{UserAvatar:g},data:()=>({editMentorGroupInput:"",metadata:{},editGradYear:!1,editMentorGroup:!1,subjectEdit:!1,subjectEditMode:null,editMentorGroupItems:ie.Dx,subjectItems:ie.po,subjectsSelected:[]}),methods:{reloadUserMetadata(){ci().then((e=>{this.metadata=e}))},submitEditMentorGroup(){if(this.$refs.editMentorGroupForm.validate()){let e=(new Date).getFullYear(),t=this.metadata.graduation_year,i=6-(t-e),s="M"+e%100+i+this.editMentorGroupInput;(0,li.postEditMentorGroup)(s).then((e=>{this.$refs.editMentorGroupForm.reset(),this.editMentorGroup=!1,e.success?this.$store.commit("showSnackbar","Successfully edited mentor group!"):this.$store.commit("showSnackbar","There was an error editing your mentor group :("),this.reloadUserMetadata()}))}},loadMajorsDialog(){this.subjectEditMode="Majors",this.subjectEdit=!0,this.subjectsSelected=[],this.$refs.subjectInput.reset()},loadHonoursDialog(){this.subjectEditMode="Honours",this.subjectEdit=!0,this.subjectsSelected=[],this.$refs.subjectInput.reset()},submitSubjectChange(){this.$refs.subjectInput.validate()&&alert("ok")}},mounted(){this.reloadUserMetadata()},computed:{subjectInputRules(){return[e=>e.length>=2||`At least two ${this.subjectEditMode} is required`]},user_name(){return this.$store.state.user?this.$store.state.user.name:"User"},user_email(){return this.$store.state.user?this.$store.state.user.email:"Email"},editGradYearItems(){let e=(new Date).getFullYear(),t=[];for(let i=0;i<6;++i)t.push(e+i);return t}},watch:{"$store.state.user":function(){this.reloadUserMetadata()}}},di=ui,mi=i(6105),vi=(0,d.Z)(di,ri,oi,!1,null,"102d5d41",null),hi=vi.exports;v()(vi,{VAutocomplete:Ee.Z,VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VChip:ce.Z,VChipGroup:mi.Z,VDialog:ue.Z,VDivider:k.Z,VForm:de.Z,VIcon:D.Z,VList:j.Z,VListItem:S.Z,VListItemAction:lt.Z,VListItemContent:I.km,VListItemSubtitle:I.oZ,VListItemTitle:I.V9,VSelect:Re.Z,VToolbar:ct.Z});var pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("div",{staticClass:"pa-4"},[i("v-row",[i("v-col",[i("h1",{staticClass:"text-h4 font-weight-bold"},[e._v("My Reviews")])])],1),this.$store.state.user&&this.$store.state.user.isAdmin?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("p",[e._v("Below are the list of pending review requests from students.")])])],1):e._e(),i("v-row",{attrs:{dense:"","no-gutters":""}},[i("v-col",[i("p",[e._v("Last Updated: "+e._s(e.getReadTime()))])])],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.reviewHeaders,items:e.reviews,"footer-props":{"items-per-page-options":[40,80,-1]},"items-per-page":20},scopedSlots:e._u([{key:"item.status",fn:function(t){var s=t.item;return[i("v-chip",{attrs:{color:e.statusColor[s.status]}},[e._v(e._s(s.status))])]}},{key:"item.link",fn:function(t){var s=t.item;return[i("v-btn",{attrs:{icon:"",href:s.link}},[i("v-icon",[e._v("mdi-open-in-new")])],1)]}},{key:"item.name",fn:function(t){var s=t.item;return[i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(s.name))]),i("v-list-item-subtitle",[e._v(e._s(s.email))])],1)]}},{key:"item.review_id",fn:function(t){var s=t.item;return[i("v-btn",{staticClass:"primary",attrs:{text:""},on:{click:function(t){e.selectedReview=s.review_id,e.confirmDialog=!0}}},[e._v(" Review ")])]}}],null,!0)}),i("v-dialog",{attrs:{width:"300"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[i("v-card",[i("v-card-title",{staticClass:"font-weight-bold"},[e._v(" Review File ")]),i("v-card-text",[e._v(" Are you sure you want to complete the review? ")]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCompleteReview}},[e._v(" Confirm ")]),i("v-btn",{attrs:{text:""},on:{click:function(t){e.confirmDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)},gi=[],fi={name:"ReviewView",data:()=>({confirmDialog:!1,selectedReview:null,statusColor:{PENDING:"warning",REVIEWED:"success",ERROR:"error"},reviewHeaders:[{text:"File",value:"file_name"},{text:"Status",value:"status"},{text:"File Type",value:"file_type"},{text:"Request Date",value:"request_date"},{text:"Request Time",value:"request_time"},{text:"Link",value:"link"}],reviews:[]}),mounted(){this.reloadUserReviews(),this.$store.state.user&&this.$store.state.user.isAdmin&&(this.reviewHeaders.push({text:"From",value:"name"}),this.reviewHeaders.push({text:"Action",value:"review_id"}))},methods:{getReadTime(){return te()().format("MMMM Do YYYY, h:mm:ss a")},reloadUserReviews(){Wt().then((e=>{this.reviews=e}))},submitCompleteReview(){this.confirmDialog=!1,Qt(this.selectedReview).then((e=>{e.success?this.$store.commit("showSnackbar","Successfully reviewed file!"):this.$store.commit("showSnackbar","There was an error reviewing the file :("),this.reloadUserReviews()}))}},watch:{"$store.state.user":function(){this.$store.state.user.isAdmin&&(this.reviewHeaders.push({text:"From",value:"name"}),this.reviewHeaders.push({text:"Action",value:"review_id"})),this.reloadUserReviews()}}},yi=fi,bi=i(4998),_i=(0,d.Z)(yi,pi,gi,!1,null,"42302652",null),wi=_i.exports;v()(_i,{VBtn:w.Z,VCard:C.Z,VCardActions:le.h7,VCardText:le.ZB,VCardTitle:le.EB,VChip:ce.Z,VCol:B.Z,VContainer:z.Z,VDataTable:bi.Z,VDialog:ue.Z,VDivider:k.Z,VIcon:D.Z,VListItemContent:I.km,VListItemSubtitle:I.oZ,VListItemTitle:I.V9,VRow:H.Z,VSpacer:A.Z});var Ci=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-subheader",[e._v("Upcoming Meetings")]),s("v-container",{attrs:{fluid:""}},e._l(e.upcoming,(function(t){return s("MeetingCard",{key:t.meeting_id,staticClass:"mb-4",attrs:{name:t.counsellor_name,venue:t.venue,date:t.date,"start-time":t.start_time,"end-time":t.end_time,description:t.description,email:t.counsellor_email,"meeting-status":t.meeting_status,"meeting-id":t.meeting_id,reason:t.reason},on:{cancel:e.cancelMeeting}})})),1),0===e.upcoming.length?s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{contain:"","max-height":"200",src:i(7069)}})],1),s("v-row",{attrs:{justify:"center"}},[s("p",{staticClass:"overline mt-4"},[e._v("You do not have any upcoming meetings")])])],1):e._e(),s("v-divider"),s("v-subheader",[e._v("Past Meetings")]),s("v-container",{attrs:{fluid:""}},e._l(e.past,(function(t){return s("MeetingCard",{key:t.meeting_id,staticClass:"mb-4",attrs:{name:t.counsellor_name,venue:t.venue,date:t.date,"start-time":t.start_time,"end-time":t.end_time,description:t.description,"meeting-id":t.meeting_id,email:t.counsellor_email,"meeting-status":t.meeting_status,reason:t.reason},on:{cancel:e.cancelMeeting}})})),1),0===e.past.length?s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-img",{attrs:{contain:"","max-height":"200",src:i(7069)}})],1),s("v-row",{attrs:{justify:"center"}},[s("p",{staticClass:"overline mt-4"},[e._v("You do not have any past meetings")])])],1):e._e()],1)},ki=[],xi={name:"MeetingView",data:()=>({meetings:[]}),computed:{upcoming(){return this.meetings.filter((e=>e.start_time.getTime()>=Date.now()))},past(){return this.meetings.filter((e=>e.start_time.getTime()<Date.now()))}},mounted(){this.reloadUserMeetings()},components:{MeetingCard:pe},methods:{cancelMeeting(e,t){be(e,t).then((e=>{e.success?this.$store.commit("showSnackbar","Successfully cancelled meeting!"):this.$store.commit("showSnackbar","There was an error cancelling the meeting :("),this.reloadUserMeetings()}))},reloadUserMeetings(){_e().then((e=>{this.meetings=e}))}},watch:{"$store.state.user":function(){this.reloadUserMeetings()}}},Di=xi,ji=(0,d.Z)(Di,Ci,ki,!1,null,"78e2307a",null),Si=ji.exports;v()(ji,{VContainer:z.Z,VDivider:k.Z,VImg:J.Z,VRow:H.Z,VSubheader:Se.Z}),s.Z.use(P.Z);const Ii=[{path:"/",name:"signin",component:W},{path:"/register",name:"register",component:qe},{path:"/profile",name:"profile",component:hi},{path:"/calendar",name:"calendar",component:Ve},{path:"/meetings",name:"meetings",component:Si},{path:"/guides",name:"guides",component:Tt},{path:"/university",name:"university",component:dt},{path:"/files",name:"files",component:ai},{path:"/reviews",name:"reviews",component:wi},{path:"*",name:"default",component:ft}],Vi=new P.Z({mode:"history",routes:Ii});var Zi=Vi,Mi=i(629);s.Z.use(Mi.ZP);const Fi=new Mi.ZP.Store({state(){return{user:null,snackbarText:"",snackbarFlag:!1}},mutations:{user(e,t){e.user=t},hideSnackbar(e){e.snackbarText="",e.snackbarFlag=!1},showSnackbar(e,t){e.snackbarText=t,e.snackbarFlag=!0}}});var Ti=Fi;s.Z.config.productionTip=!1,new s.Z({vuetify:$,router:Zi,store:Ti,render:e=>e(U)}).$mount("#app")},4800:function(e,t,i){"use strict";e.exports=i.p+"img/404_art.502aab30.svg"},9574:function(e,t,i){"use strict";e.exports=i.p+"img/logo.fb8475b5.svg"},7845:function(e,t,i){"use strict";e.exports=i.p+"img/no_category_art.da488527.svg"},9480:function(e,t,i){"use strict";e.exports=i.p+"img/no_files_art.85781773.svg"},7069:function(e,t,i){"use strict";e.exports=i.p+"img/no_meeting_art.5f64f038.svg"},1473:function(e,t,i){"use strict";e.exports=i.p+"img/registration_art.e51ce6d3.svg"},4725:function(e,t,i){"use strict";e.exports=i.p+"img/excel_file_logo.d4c9f17d.png"},1262:function(e,t,i){"use strict";e.exports=i.p+"img/general_file_icon.92562487.png"},667:function(e,t,i){"use strict";e.exports=i.p+"img/image_file_logo.3101ce06.png"},8811:function(e,t,i){"use strict";e.exports=i.p+"img/pdf_file_logo.76a6ab3d.png"},8943:function(e,t,i){"use strict";e.exports=i.p+"img/powerpoint_file_logo.1cadc8e6.png"},5032:function(e,t,i){"use strict";e.exports=i.p+"img/university_background.1a2016aa.png"},2315:function(e,t,i){"use strict";e.exports=i.p+"img/user.7b8b0f2a.png"},6983:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAArlBMVEX///8YWr2XlZPHxcOsqqmSkI7Ny8nU0tDQzs3q6uoATLkAULqwr60ATrmYlpWTkY/W3/Lc29mqvOLF0uvk5OTo7vgAU7vQ2O0ASbiElsCYrtynpaP4+Pju8/oAVryQqdovZ8J9mtS5yOdehMy1tLK+vbyMncevweR0lNJFdMZUfsphhsz2+f07bsQAPLWFoNaJlrJ0gp/g6PUfX78ARLdNeciXrdxsjtB3i7RleqVlbg7bAAAH1UlEQVR4nO2dbUPiOBDHW6G6FisKS+mBFFx1WbWudz6sd9//i11bk8kDtdIlD6M7/ze7OiXlx2SSmSTUICCRSCQSiUQikUgkzzq9PN6zq/nVoUe+s3k0tAy4tzeMrvwB7tnnqxT1fREeuQH0h3gYVTc/7tvT3DNir3Th0GqM1J/h8dAb4mV568jqHb6WhNHpUeQL8aj6gK3e4ZUw6PvyojPCoO/Ji+4IGeKR1Zs1yCGhp47qktAPolPCYO4B0S2hDy86JmSILocb14Tuveic0LkX3ROy4cYZogdCx170Qeh20vBC6NSLfghdxqInQoeThi9Cd170RugM0R+hq+HGI6EjL/okdONFr4ROvOiX0IUXPRM68KJvQvte9E5o3Yv+CW0jIiC0jIiB0C4iCkKriDgIbSIiIbSIiIXQHiIaQmuIeAhtISIitISIidAOIipChmj28It9wuo8zdYndl4Rt/w8tpN9wqA+oHBwtt3F9QmqucnbOyC8rP2ypV7Ph235cWwlB4Rn0XuH+nRFJk+jOiCsx5rPTRgczqNouKU+JmHJ+KV3tZV6Rx+UcHudRp+d8IAIu4oInYsIO4sInYsIO4sInYsIO6si3DPY3s76DcLJdNyiv/8p1XaBpgdLYKCuhIvzxyxOWpTmeZ62XaAqzvLbE3t4QWfCUZyGppU/nVsE7Ei4zIzzVUqesRB+swNYIv7AQVgklgDDMJuiIFwOrBHm1ygIV9YAwzBeICBcxBYJk28ICB9sEg5GCAhPiJAIiZAIiZAI/RKmfx3sm9EXjQYP4X7PkK7UTftPSNj7ipTQGGAPqQ+/H5gS0jjEOJbCctlmXSytteW6LW82ISRcLSZMU31xY7AG2+JGQ0zPuW3xIpsQEiaiKNcXGCVTMNM8PFiD6Q65D5MxGHQ/rd58URjGsPyrLhkgJEzvwbBUnZgqS4PaAmQGhrHSuRESSqtj6nuVO2KpZ8XB+R0Y1M8FIaHkjYXqp0zZbJkpIJJ/r7GPpWEsFnEfFUOuvGr6VrhpjkdImM7AciG7I79QXlUoPhQDjd7a94MvZmQup8lvwKL0xMFMfZnSGwcwkWjTiMnM21heKnqjMtTE2haEMqKs4Ne36hSDsraQpjZ5qBkU7PIG/PwFWlPbwlkfSoOD7Fk+HyzZv4WEL3rwgzZPmotDgzW+5BApxYRMAGa+O2EUPXitZ3MIx9ISBkwj8X75FkvxkxvvRSBmMND80JJZnIRiapcmPQ5x8rMhEB+hsUetLZyEYkesED5csV+tn3jytgDC/Ja/YLJRcaEkTMUZCqiEIC27j8EKO6siSfj2MQhDkUZDWEHafZ2uuPGcG0XFda/XlEgJxdY0DDUxi80iF4UwOCye8Ouv9dUNpITCJ2AbiF+AdcLnPsiCio2mkBKmSzAyCEhWS6cK66Nm1AoOxIRSPcumdRhLyhxA1MgsSgXybOPsmMH1Uu2beLutl8YFN7LRBJKWXLayBEbMLvrKDt41bykLex1NEgZVhx5Y2SkOkSFsAOKsLUIlk66N0DHr4VNMf6xTt7SEsrYI5bGjqN0CaXc93wlrnZnncAJx1LBMbmz/cF914a77FqIKrmc4iLTX+S7ngVgjifXHl81einQslavg2msZm9JZngrWuhoUq4yb7eAlFG+sjjzuUjbfCavCO2k4poqWUFTBlZvgJ7bMJGqJajUu5j9spN2YCcMQzLn0NvkyE9TIVSBCerCRdqMmFMl0OYtDP+QIMAOWrxW11t3mQIOYUOQp1aoh+y+c0xTvOxH/XzQdpsZLKDwzTmD+g0ATYXqTg4PHTe3gJQxX3DyJIYeBklcszMwGPKHTN+PQE2aQfIs8VAQahOk0g4HmuSEMy9ri1FBpcWq0tgjlKvjiicFK9S2EaZFBh2380gbW2iKUi74l75JSoIkwXc3am0FaW4TyXvCaz++/pECDQLzg3mxIuw0Tqji7nxhKeSBOuTfl+hZWuZd8KL1tCsOK0JB6ZmuLUK5zeWYtI0Agjjiqvtr9KsRjqaiCFwxV+V4GlEx8QNI3nT4AodjVZt1V2VaCxSrel5vSbuSEYaJdp24rwUTPdN78FU3UhPGDep36BbB4rFqbwxA3ofbmtNM10qpxbd2uEYMyQCjtBVfSTkhp3ywcv/EtTdSE0r5nJT2xjlutH4NQVMGV9MRaPX2ysen0IQiVb0cWG/tm8gmiN79KXNYWpmS6tgiVveCGq6SzU21t4K0tKq1OplwnDYE2FdamRShGiLa2qBULNSAkrVbzhKZrCzMySKg9jhULIe6xlAiJkAiJkAiJEPT5n23y1gKEEakVmC/CN9Pm3SWdH/NJuLD1IKwwzMbv394BYTCyFYnpxfs3d0IYnNtBHNjro52fufcrs/DMvezl/Rv/vro+N/HhRxIngxZVz03M2y7QFMc39p7VVuk3nn05XY9a9O9/pdouULUeF+/fcSfR80s76894Bi0ROhURdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdtbnJ6z+tHtksL2d1RsaJqwaHF4ZbHBHHVa7fcOz9y/cvsWo+kvfx30kmtd/W71vEDAI+sOOf7zevox20iA428OGGO0bBSwR5xEmxig6MAxY6vTy2DcX1/G8Z3KUIZFIJBKJRCKRSCRN/wMzx/t7oBgIbwAAAABJRU5ErkJggg=="}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=e,function(){var e=[];i.O=function(t,s,n,a){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],a=e[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&a||r>=a)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(o=!1,a<r&&(r=a));if(o){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,n,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var u=l(i)}for(t&&t(s);c<r.length;c++)a=r[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},s=self["webpackChunkcentros_client"]=self["webpackChunkcentros_client"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(2076)}));s=i.O(s)})();
//# sourceMappingURL=app.153ce199.js.map