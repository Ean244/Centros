(function(){var e={6700:function(e,t,s){var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":8227,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":8227,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=6700},9572:function(e){async function t(){try{const e=await fetch("/api/me");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}e.exports={getUserData:t}},1457:function(e,t,s){"use strict";async function i(){try{const e=await fetch("/api/meta");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function a(e){return await(await fetch("/api/meta/editmg",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({mentor_group:e})})).json()}s.r(t),s.d(t,{getUserMetadata:function(){return i},postEditMentorGroup:function(){return a}})},9031:function(e){async function t(e,t,s,i,a){let n={house:e,year:t,majors:s,honours:i,mentorClass:a};return await(await fetch("/api/submit",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).json()}e.exports={postRegistrationData:t}},7811:function(e,t,s){"use strict";s.r(t),s.d(t,{getFormattedDate:function(){return a},getFormattedTime:function(){return n},getMysqlFormattedDate:function(){return r},getMysqlFormattedTime:function(){return o}});var i=s(1280);function a(e,t=!1,s=!1){return e?t?s?(0,i.ZP)(e,"dd mmm yyyy"):(0,i.ZP)(e,"dddd, mmmm dS yyyy"):s?(0,i.ZP)(e,"dd mmm"):(0,i.ZP)(e,"dddd, mmmm dS"):null}function n(e){return(0,i.ZP)(e,"h:MM TT")}function r(e){return(0,i.ZP)(e,"yyyy-mm-dd")}function o(e){return(0,i.ZP)(e,"HH:MM:ss")}},523:function(e){e.exports.po=["Mathematics","Physics","Chemistry","Biology","Computing Studies","History","Geography","Music","Art","English Literature","Economics"],e.exports.e1=["Faraday","Fibonacci","Fleming","Nobel"],e.exports.Dx=Array.from(Array(7).keys()).map((e=>e+1)).map((e=>"0"+e)),e.exports.jU=3,e.exports.c1={PENDING:"warning",SCHEDULED:"success",CANCELLED:"dark grey",COMPLETED:"primary"}},6749:function(e,t,s){"use strict";var i=s(144),a=s(998),n=s(6232),r=s(6190),o=s(4145),l=s(9223),c=s(8271),u=s(4324),d=s(5808),m=s(4525),h=s(8627),p=s(4611),g=s(3059),f=s(4568),v=s(9709),y=s(9258),_=s(3687),Z=s(7953),w=function(){var e=this,t=e._self._c;return t(a.Z,[t(y.Z,{scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(r.Z,e._b({attrs:{color:"error",text:""},on:{click:function(t){e.snackbarFlag=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbarFlag,callback:function(t){e.snackbarFlag=t},expression:"snackbarFlag"}},[e._v(" "+e._s(this.$store.state.snackbarText)+" ")]),e.hasRegistered?t(v.Z,{attrs:{permanent:"",app:""},scopedSlots:e._u([{key:"append",fn:function(){return[t("div",{staticClass:"pa-2"},[t(r.Z,{attrs:{block:"",color:"primary",target:"_blank",href:"https://forms.office.com/r/22BAnGHvir"}},[t(u.Z,{attrs:{left:""}},[e._v("mdi-alert-circle")]),e._v(" Report Bug ")],1)],1)]},proxy:!0}],null,!1,1992728162)},[t(m.Z,[t(h.km,[t(h.V9,{staticClass:"text-h5"},[e._v(" Centros ")]),t(h.oZ,{staticClass:"caption"},[e._v(" College Counselling ")]),t(h.oZ,{staticClass:"caption"},[e._v(" Management System ")])],1)],1),t(l.Z),t(d.Z,{attrs:{dense:"",nav:""}},e._l(e.navItems,(function(s){return t("div",{key:s.title},[t(m.Z,{attrs:{link:"",router:"",to:s.route}},[t(p.Z,[t(u.Z,[e._v(e._s(s.icon))])],1),t(h.km,[t(h.V9,[e._v(e._s(s.title)+" ")])],1)],1),s.divider?t(l.Z,{staticClass:"my-3"}):e._e()],1)})),0)],1):e._e(),e.hasRegistered?t(n.Z,{staticClass:"white--text font-weight-bold",attrs:{app:"",dense:"",color:"primary"}},[t(Z.qW,[e._v("Centros")]),t(_.Z),t(f.Z,{attrs:{bottom:"","min-width":"250px",rounded:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(r.Z,e._g({attrs:{icon:"","x-large":""}},s),[t("UserAvatar",{attrs:{size:40}})],1)]}}],null,!1,311962827)},[t(o.Z,[t(h.km,{staticClass:"justify-center"},[t("div",{staticClass:"mx-auto text-center"},[t("UserAvatar",{attrs:{size:56}}),t("h3",[e._v(e._s(e.user.name))]),t("p",{staticClass:"text-caption mt-1"},[e._v(" "+e._s(e.user.email)+" ")]),t(l.Z,{staticClass:"my-3"}),t(r.Z,{attrs:{depressed:"",rounded:"",text:"",href:"/signout"}},[e._v(" Logout ")])],1)])],1)],1)],1):e._e(),t(g.Z,[t("router-view")],1),t(c.Z,{attrs:{app:""}})],1)},b=[],C=s(9572),k=s(3423),D=function(){var e=this,t=e._self._c;return t(k.Z,{attrs:{color:"black",size:e.size}},[t("span",{staticClass:"white--text"},[e._v(e._s(e.getInitials()))])])},j=[],x={name:"UserAvatar",methods:{getName(){return this.name?this.name:this.$store.state.user?this.$store.state.user.name:"ERROR"},getInitials(){let e,t=this.getName().split(" ");return e=1===t.length?t[0][0]:t[0][0]+t[1][0],e.toUpperCase()}},props:{name:{require:!1,type:String},size:{require:!0,type:Number}}},S=x,M=s(1001),F=(0,M.Z)(S,D,j,!1,null,"f701d81e",null),I=F.exports,T={name:"App",components:{UserAvatar:I},methods:{schedule(){return this.$store.state.schedule}},computed:{snackbarFlag:{get(){return this.$store.state.snackbarFlag},set(e){e?this.$store.commit("showSnackbar",this.$store.state.snackbarText):this.$store.commit("hideSnackbar")}},user(){return this.$store.state.user},hasRegistered(){return!!this.$store.state.user&&this.$store.state.user.hasRegistered}},mounted(){(0,C.getUserData)().then((e=>{null===e&&"/"!==this.$route.name&&this.$router.replace("/"),this.$store.commit("user",e)}))},created(){document.title="Centros"},data:()=>({show:!1,navItems:[{title:"Calendar",icon:"mdi-calendar",divider:!1,route:"/calendar"},{title:"Meetings",icon:"mdi-calendar-clock",divider:!0,route:"/meetings"},{title:"Profile",icon:"mdi-account",divider:!1,route:"/profile"},{title:"Guides",icon:"mdi-book-open-variant",divider:!1,route:"/guides"}]})},A=T,E=(0,M.Z)(A,w,b,!1,null,null,null),U=E.exports,R=s(1705);i.ZP.use(R.Z);const q=new R.Z({theme:{themes:{light:{primary:"#43919D",secondary:"#FFFFFF"},dark:{primary:"#43919D",secondary:"#FFFFFF"}}}});var O=q,P=s(8345),N=s(266),$=s(2118),G=s(5495),Y=s(1713),B=function(){var e=this,t=e._self._c;return t($.Z,[t(Y.Z,{staticClass:"text-center"},[t(N.Z,{attrs:{cols:"12"}},[t(G.Z,{staticClass:"my-3",attrs:{src:s(9574),contain:"",height:"280"}})],1),t(N.Z,{attrs:{cols:"12"}},[t("h1",{staticClass:"text-h2 font-weight-bold"},[e._v("Centros")])]),t(N.Z,[t("p",{staticClass:"body-4"},[e._v(" College Counselling Management System ")])])],1),t(Y.Z,[t(N.Z,{staticClass:"d-flex justify-center"},[t(r.Z,{staticClass:"mx-auto",attrs:{"x-large":"",rounded:"",color:"primary",href:"/signin"}},[t(u.Z,{staticClass:"mr-2"},[e._v(" mdi-microsoft ")]),e._v(" Microsoft Login ")],1)],1)],1)],1)},z=[],L={name:"SignIn",data:()=>({}),methods:{}},V=L,J=(0,M.Z)(V,B,z,!1,null,"5cff6ff4",null),H=J.exports,Q=s(6797),W=s(5715),K=s(4886),X=s(4127),ee=s(4061),te=s(5125),se=s(7423),ie=s(2540),ae=s(7808),ne=function(){var e=this,t=e._self._c;return t($.Z,{staticClass:"px-12",attrs:{fluid:""}},[t("div",{staticClass:"pa-4"},[t(Y.Z,[t(N.Z,[t("h1",{staticClass:"text-h4 font-weight-bold"},[e._v("Meeting Schedule")])])],1),t(Y.Z,{attrs:{dense:"","no-gutters":""}},[t(N.Z,[t("p",[e._v("This site is for scheduling appointments with Mr West only. You can schedule appointments with Mr Allan "),t("a",{attrs:{href:"https://tinyurl.com/see-mr-allan"}},[e._v("here")])])])],1),t(Y.Z,{attrs:{dense:"","no-gutters":""}},[t(N.Z,[t("p",[e._v("Canteen College Counselling - Find Mr West at the canteen at 1130-1300, say hello, and ask questions about your university journeys and dreams.")])])],1),t(Y.Z,[t(N.Z,e._l(e.pendingMeetings,(function(s){return t("MeetingCard",{key:s.meeting_id,attrs:{name:s.name,email:s.email,description:s.description,date:e.getDateFromMysqlDate(s.date),"start-time":e.getDateFromMysqlTime(s.start_time),"end-time":e.getDateFromMysqlTime(s.end_time)}})})),1)],1),t(Y.Z,[t(N.Z,[t(Y.Z,[t($.Z,{staticClass:"d-flex align-center justify-center",attrs:{fluid:""}},[t(r.Z,{staticClass:"ml-auto",attrs:{icon:""},on:{click:e.goToPreviousPage}},[t(u.Z,[e._v("mdi-chevron-left")])],1),t("p",{staticClass:"ma-0"},[e._v(e._s(e.currDateFormatted()))]),t(r.Z,{attrs:{icon:""},on:{click:e.goToNextPage}},[t(u.Z,[e._v("mdi-chevron-right")])],1),t(r.Z,{staticClass:"ml-auto",attrs:{icon:""},on:{click:e.changeCalendarMode}},[t(u.Z,[e._v("mdi-calendar-month-outline")])],1)],1)],1),t(Y.Z,[t(N.Z,[t(W.Z,{ref:"calendar",staticStyle:{height:"auto",width:"auto"},attrs:{start:new Date,"event-overlap-mode":"column",type:e.mode,events:e.events,color:"primary","event-ripple":!1,"interval-minutes":"30","first-interval":"15","interval-count":"19"},on:{"click:event":e.showMeetingDetails,"click:date":e.viewWeek,"mousedown:event":e.startDrag,"mousedown:time":e.startTime,"mousemove:time":e.mouseMove,"mouseup:time":e.endDrag},nativeOn:{mouseleave:function(t){return e.cancelDrag.apply(null,arguments)}},scopedSlots:e._u([{key:"interval",fn:function({past:s,weekday:i}){return[s||0===i||6===i?t("div",{staticClass:"fill-height",staticStyle:{background:"#e6e6e6"}}):e._e()]}}]),model:{value:e.targetDate,callback:function(t){e.targetDate=t},expression:"targetDate"}})],1)],1)],1)],1)],1),t("div",{staticStyle:{height:"60px"}}),t(f.Z,{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[t(o.Z,{attrs:{width:"300",flat:""}},[t(d.Z,[t(ie.Z,[e._v("Booked By")]),t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-account")])],1),t(h.km,[t(h.V9,[e._v(e._s(e.selectedEvent.name))]),t(h.oZ,[e._v(e._s(e.selectedEvent.email))])],1)],1),t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-text")])],1),t(h.km,[e._v(e._s(e.selectedEvent.description))])],1),e.selectedEvent.venue?t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-map-marker")])],1),t(h.km,[e._v(e._s(e.selectedEvent.venue))])],1):e._e(),t(m.Z,{attrs:{"two-line":""}},[t(p.Z,[t(u.Z,[e._v("mdi-calendar-clock")])],1),t(h.km,[t(h.V9,[e._v(e._s(e.getFormattedDate(e.selectedEvent.start)))]),t(h.oZ,[e._v(e._s(e.getFormattedTime(e.selectedEvent.start))+" to "+e._s(e.getFormattedTime(e.selectedEvent.end))+" ")])],1)],1),t(m.Z,[t(X.Z,{attrs:{color:e.meetingStatusToColor[e.selectedEvent.meeting_status],"text-color":"white"}},[e._v(" "+e._s(e.selectedEvent.meeting_status)+" ")])],1)],1),e.showCancelMeetingActions?t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:"",color:"error"},on:{click:function(t){e.cancelDialog=!0}}},[e._v("Cancel")])],1):e._e(),e.showConfirmMeetingActions?t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.acceptDialog=!0}}},[e._v("Accept")]),t(r.Z,{attrs:{text:"",color:"error"},on:{click:function(t){e.declineDialog=!0}}},[e._v("Decline")])],1):e._e(),e.showCompleteMeetingActions?t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.completeDialog=!0}}},[e._v("Mark Completed")]),t(r.Z,{attrs:{text:"",color:"error"},on:{click:function(t){e.declineDialog=!0}}},[e._v("Cancel")])],1):e._e()],1)],1),t(Q.Z,{ref:"bottomSheet",attrs:{"hide-overlay":"",persistent:"",value:e.showCreatePrompt,"no-click-animation":"","retain-focus":!1}},[t(se.Z,{staticClass:"d-flex justify-center align-center pa-10",attrs:{height:"80px"}},[e._v(" New Meeting: "+e._s(e.meetingDate)+" "+e._s(e.meetingStartTime)+" to "+e._s(e.meetingEndTime)+" "),t(r.Z,{staticClass:"ml-auto mr-3",attrs:{color:"primary"},on:{click:function(t){e.scheduleDialog=!0}}},[e._v("Schedule ")]),t(ee.Z,{attrs:{width:"700"},model:{value:e.scheduleDialog,callback:function(t){e.scheduleDialog=t},expression:"scheduleDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Schedule Meeting ")]),t(K.ZB,[t("p",[e._v("Please provide a short description of what you would like to discuss about.")]),t(te.Z,{ref:"scheduleForm"},[t(ae.Z,{attrs:{"prepend-icon":"mdi-pencil",outlined:"",dense:"",rules:[e=>!!e||"Description is required"],label:"Description"},model:{value:e.descriptionInput,callback:function(t){e.descriptionInput=t},expression:"descriptionInput"}})],1)],1),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:""},on:{click:e.closeScheduleDialog}},[e._v(" Cancel ")]),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitMeetingSchedule}},[e._v(" Confirm ")])],1)],1)],1),t(r.Z,{attrs:{text:"",color:"red"},on:{click:e.cancelScheduleNewMeeting}},[e._v(" Cancel ")])],1)],1),t(ee.Z,{attrs:{width:"700"},model:{value:e.acceptDialog,callback:function(t){e.acceptDialog=t},expression:"acceptDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Accept Meeting ")]),t(K.ZB,[t("p",[e._v("Where will the meeting take place?")]),t(te.Z,{ref:"acceptForm"},[t(ae.Z,{attrs:{outlined:"","prepend-icon":"mdi-map-marker",dense:"",rules:[e=>!!e||"A venue is required"],label:"Venue"},model:{value:e.venueInput,callback:function(t){e.venueInput=t},expression:"venueInput"}})],1)],1),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:""},on:{click:e.closeAcceptDialog}},[e._v(" Cancel ")]),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitAcceptMeeting}},[e._v(" Confirm ")])],1)],1)],1),t(ee.Z,{attrs:{width:"700"},model:{value:e.declineDialog,callback:function(t){e.declineDialog=t},expression:"declineDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Decline Meeting ")]),t(K.ZB,[t("p",[e._v("Please provide a short reason for declining the meeting.")]),t(te.Z,{ref:"declineForm"},[t(ae.Z,{attrs:{outlined:"","prepend-icon":"mdi-pencil",dense:"",rules:[e=>!!e||"Short reason is required"],label:"Reason"},model:{value:e.reasonInput,callback:function(t){e.reasonInput=t},expression:"reasonInput"}})],1)],1),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:""},on:{click:e.closeDeclineDialog}},[e._v(" Cancel ")]),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitDeclineMeeting}},[e._v(" Confirm ")])],1)],1)],1),t(ee.Z,{attrs:{width:"300"},model:{value:e.completeDialog,callback:function(t){e.completeDialog=t},expression:"completeDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Complete Meeting ")]),t(K.ZB,[e._v(" Are you sure you want to complete this meeting? ")]),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitCompleteMeeting}},[e._v(" Confirm ")]),t(r.Z,{attrs:{text:""},on:{click:function(t){e.completeDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1),t(ee.Z,{attrs:{width:"600"},model:{value:e.cancelDialog,callback:function(t){e.cancelDialog=t},expression:"cancelDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Cancel Meeting ")]),t(K.ZB,[t("p",[e._v("Please provide a short reason for cancelling the meeting.")]),t(te.Z,{ref:"cancelForm"},[t(ae.Z,{attrs:{outlined:"","prepend-icon":"mdi-pencil",dense:"",rules:[e=>!!e||"Short reason is required"],label:"Reason"},model:{value:e.reasonInput,callback:function(t){e.reasonInput=t},expression:"reasonInput"}})],1)],1),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{text:""},on:{click:e.closeCancelDialog}},[e._v(" Cancel ")]),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitCancelMeeting}},[e._v(" Confirm ")])],1)],1)],1)],1)},re=[],oe=(s(7658),s(381)),le=s.n(oe),ce=s(523),ue=s(7811),de=s(6900),me=function(){var e=this,t=e._self._c;return t(o.Z,[t(K.EB,[e._v("Meeting #"+e._s(e.meetingId)+" "),t(X.Z,{staticClass:"ml-4",attrs:{dark:"",color:e.meetingStatusToColor[e.meetingStatus]}},[e._v(e._s(e.meetingStatus))])],1),t(K.Qq,[e._v(e._s(e.description))]),t(K.ZB,[t(d.Z,[e.name&&e.email?t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-account")])],1),t(h.km,[t("div",[t(f.Z,{attrs:{bottom:"",right:"",transition:"scale-transition",origin:"top left"},scopedSlots:e._u([{key:"activator",fn:function({on:i}){return[t(X.Z,e._g({attrs:{pill:""}},i),[t(k.Z,{attrs:{left:""}},[t(G.Z,{attrs:{src:s(2315)}})],1),e._v(" "+e._s(e.name)+" ")],1)]}}],null,!1,160531654),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(o.Z,{attrs:{width:"300"}},[t(d.Z,[t(m.Z,[t(de.Z,[t(G.Z,{attrs:{src:s(2315)}})],1),t(h.km,[t(h.V9,[e._v(e._s(e.name))]),t(h.oZ,[e._v(e._s(e.email))])],1)],1)],1)],1)],1)],1)])],1):e._e(),e.venue?t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-map-marker")])],1),t(h.km,[e._v(e._s(e.venue))])],1):e._e(),t(m.Z,{attrs:{"two-line":""}},[t(p.Z,[t(u.Z,[e._v("mdi-calendar-clock")])],1),t(h.km,[t(h.V9,[e._v(e._s(this.formattedDate(e.date)))]),t(h.oZ,[e._v(e._s(this.formattedTime(e.startTime))+" to "+e._s(this.formattedTime(e.endTime))+" ")])],1)],1),e.reason?t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-cancel")])],1),t(h.km,[e._v(e._s(e.reason))])],1):e._e()],1)],1),e.showActions?t(K.h7,[t(_.Z),t(r.Z,{attrs:{color:"red",text:""},on:{click:e.promptConfirmation}},[e._v("Cancel")])],1):e._e(),t(ee.Z,{attrs:{width:"600"},model:{value:e.cancelDialog,callback:function(t){e.cancelDialog=t},expression:"cancelDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Cancel Meeting ")]),t(K.ZB,[t("p",[e._v("Please provide a short reason for cancelling the meeting.")]),t(te.Z,{ref:"cancelForm"},[t(ae.Z,{attrs:{outlined:"","prepend-icon":"mdi-pencil",dense:"",rules:[e=>!!e||"Short reason is required"],label:"Reason"},model:{value:e.reasonInput,callback:function(t){e.reasonInput=t},expression:"reasonInput"}})],1)],1),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitCancelMeeting}},[e._v(" Confirm ")]),t(r.Z,{attrs:{text:""},on:{click:function(t){e.cancelDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)},he=[],pe={name:"MeetingCard",data:()=>({meetingStatusToColor:ce.c1,reasonInput:"",cancelDialog:!1,menu:!1}),methods:{submitCancelMeeting(){this.$refs.cancelForm.validate()&&(this.cancelDialog=!1,this.$emit("cancel",this.meetingId,this.reasonInput))},promptConfirmation(){this.cancelDialog=!0},formattedDate(e){return(0,ue.getFormattedDate)(e,!0)},formattedTime(e){return(0,ue.getFormattedTime)(e)}},computed:{showActions(){return!("COMPLETED"===this.meetingStatus||"CANCELLED"===this.meetingStatus)}},props:{reason:{require:!1,type:String},name:{require:!0,type:String},email:{require:!0,type:String},description:{require:!0,type:String},meetingStatus:{require:!0,type:String},venue:{require:!1,type:String},date:{require:!0,type:Date},startTime:{require:!0,type:Date},endTime:{require:!0,type:Date},meetingId:{require:!0,type:Number}}},ge=pe,fe=(0,M.Z)(ge,me,he,!1,null,"1c46bcba",null),ve=fe.exports;s(1703);async function ye(){let e=[];try{const t=await fetch("/api/meeting/public");if(200===t.status){for(const s of await t.json()){const t={};t.name=s.name,t.student_id=s.student_id,t.email=s.email,t.meeting_status=s.meeting_status,t.venue=s.venue,t.description=s.description;let i=new Date(s.date);t.date=(0,ue.getMysqlFormattedDate)(i),t.start=(0,ue.getMysqlFormattedDate)(i)+" "+s.start_time,t.end=(0,ue.getMysqlFormattedDate)(i)+" "+s.end_time,t.color=ce.c1[t.meeting_status],t.meeting_id=s.meeting_id,e.push(t)}return e}return null}catch(t){return console.log(t),null}}async function _e(e,t,s){let i={counsellor_id:e,meeting_id:t,venue:s};const a=await(await fetch("/api/meeting/accept",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(i)})).json();if(!a.success)throw new Error(a.message);return a}async function Ze(e){const t=await(await fetch("/api/meeting/complete",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({meeting_id:e})})).json();if(!t.success)throw new Error(t.message);return t}async function we(e,t){let s={meeting_id:e,reason:t};const i=await(await fetch("/api/meeting/decline",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(s)})).json();if(!i.success)throw new Error(i.message);return i}async function be(){let e=[];try{const t=await fetch("/api/meeting/user");if(200===t.status){for(const s of await t.json())s.date=new Date(s.date),s.start_time=new Date((0,ue.getMysqlFormattedDate)(s.date)+" "+s.start_time),s.end_time=new Date((0,ue.getMysqlFormattedDate)(s.date)+" "+s.end_time),e.push(s);return e}return[]}catch(t){return console.log(t),[]}}async function Ce(e,t,s,i,a){let n={student_id:e,description:t,date:s,start_time:i,end_time:a};const r=await(await fetch("/api/meeting/schedule",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).json();if(!r.success)throw new Error(r.message);return r}var ke={name:"MeetingSchedule",components:{MeetingCard:ve},data:()=>({completeDialog:!1,meetingStatusToColor:ce.c1,pendingMeetings:[],events:[],targetDate:le()().format("YYYY-MM-DD"),descriptionInput:null,selectedOpen:!1,selectedElement:null,selectedEvent:{name:"",meeting_status:"CANCELLED"},acceptDialog:!1,venueInput:"",declineDialog:!1,reasonInput:"",scheduleDialog:!1,cancelDialog:!1,ready:!1,mode:"week",showCreatePrompt:!1,newMeeting:null,meetingStartTime:null,meetingEndTime:null,meetingDate:null,dragEvent:null,dragStart:null,createStart:null,extendOriginal:null}),computed:{showCancelMeetingActions(){return!!this.$store.state.user&&("SCHEDULED"===this.selectedEvent.meeting_status&&this.$store.state.user.isAdmin||this.selectedEvent.student_id===this.$store.state.user.user_id)},showConfirmMeetingActions(){return!!this.$store.state.user&&(this.$store.state.user.isAdmin&&"PENDING"===this.selectedEvent.meeting_status)},showCompleteMeetingActions(){return!!this.$store.state.user&&(this.$store.state.user.isAdmin&&"SCHEDULED"===this.selectedEvent.meeting_status&&new Date(this.selectedEvent.end)<new Date)},cal(){return this.ready?this.$refs.calendar:null}},mounted(){this.ready=!0,this.scrollToTime(),this.updateTime(),this.reloadPublicMeetings()},methods:{submitCompleteMeeting(){Ze(this.selectedEvent.meeting_id).then((e=>{this.completeDialog=!1,e.success?this.$store.commit("showSnackbar","Successfully completed meeting! A minutes file has been created!"):this.$store.commit("showSnackbar","There was an error completing the meeting :("),this.reloadPublicMeetings()}))},closeAcceptDialog(){this.$refs.acceptForm.reset(),this.acceptDialog=!1},submitAcceptMeeting(){this.$refs.acceptForm.validate()&&_e(this.$store.state.user.user_id,this.selectedEvent.meeting_id,this.venueInput).then((e=>{this.closeAcceptDialog(),e.success?this.$store.commit("showSnackbar","Successfully accepted meeting!"):this.$store.commit("showSnackbar","There was an error accepting the meeting :("),this.reloadPublicMeetings()}))},submitDeclineMeeting(){this.$refs.declineForm.validate()&&we(this.selectedEvent.meeting_id,this.reasonInput).then((e=>{this.closeDeclineDialog(),e.success?this.$store.commit("showSnackbar","Successfully declined meeting!"):this.$store.commit("showSnackbar","There was an error declining the meeting :("),this.reloadPublicMeetings()}))},submitCancelMeeting(){this.$refs.cancelForm.validate()&&we(this.selectedEvent.meeting_id,this.reasonInput).then((e=>{this.closeCancelDialog(),e.success?this.$store.commit("showSnackbar","Successfully cancelled meeting!"):this.$store.commit("showSnackbar","There was an error cancelling the meeting :("),this.reloadPublicMeetings()}))},closeDeclineDialog(){this.$refs.declineForm.reset(),this.declineDialog=!1},closeCancelDialog(){this.$refs.cancelForm.reset(),this.cancelDialog=!1},closeScheduleDialog(){this.$refs.scheduleForm.reset(),this.scheduleDialog=!1},reloadPublicMeetings(){this.cancelScheduleNewMeeting(),ye().then((e=>{this.events=e}))},getFormattedDate:ue.getFormattedDate,getFormattedTime:ue.getFormattedTime,submitMeetingSchedule(){this.$refs.scheduleForm.validate()&&Ce(this.$store.state.user.user_id,this.descriptionInput,(0,ue.getMysqlFormattedDate)(this.newMeeting.start),(0,ue.getMysqlFormattedTime)(this.newMeeting.start),(0,ue.getMysqlFormattedTime)(this.newMeeting.end)).then((e=>{this.closeScheduleDialog(),e.success?(this.$store.commit("showSnackbar","Successfully scheduled meeting!"),this.cancelScheduleNewMeeting()):this.$store.commit("showSnackbar","There was an error scheduling your meeting :("),this.reloadPublicMeetings()}))},showMeetingDetails({nativeEvent:e,event:t}){if(this.newMeeting&&t.name===this.newMeeting.name)return;const s=()=>{this.selectedEvent=t,this.selectedElement=e.target,requestAnimationFrame((()=>requestAnimationFrame((()=>this.selectedOpen=!0))))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((()=>requestAnimationFrame((()=>s()))))):s(),e.stopPropagation()},goToNextPage(){this.$refs.calendar.next(),this.cancelScheduleNewMeeting()},goToPreviousPage(){this.$refs.calendar.prev(),this.cancelScheduleNewMeeting()},changeCalendarMode(){"month"===this.mode?this.mode="week":this.mode="month",this.cancelScheduleNewMeeting()},cancelScheduleNewMeeting(){this.deleteNewMeeting(),this.showCreatePrompt=!1},deleteNewMeeting(){this.newMeeting&&(this.events.pop(),this.newMeeting=null)},startDrag({event:e,timed:t}){e&&t&&(this.dragEvent=e,this.dragTime=null,this.extendOriginal=null)},startTime(e){const t=this.toTime(e),s=this.toDate(e);if(!(s<Date.now()||0===s.getDay()||6===s.getDay()))if(this.dragEvent&&null===this.dragTime){const e=this.dragEvent.start;this.dragTime=t-e}else this.createStart=this.roundTime(t),this.newMeeting&&this.events.pop(),this.newMeeting={name:"New Meeting",color:"primary",start:this.createStart,end:this.createStart+18e5,timed:!0},this.events.push(this.newMeeting),this.checkForCollisions()},checkForCollisions(){for(let e=0;e<this.events.length-1;e++){let t=this.events[e],s=new Date(t.start),i=new Date(t.end);if(!(this.newMeeting.end<=s.getTime()||this.newMeeting.start>=i.getTime())){this.deleteNewMeeting();break}}},mouseMove(e){const t=this.toTime(e);if(this.newMeeting&&null!==this.createStart){const e=this.roundTime(t,!1);if(this.newMeeting.createStart>e)return;this.newMeeting.start=this.createStart;let s=Math.max(e,this.createStart+18e5);this.newMeeting.end=s,this.$store.state.user.isAdmin||(this.newMeeting.end=Math.min(this.newMeeting.end,this.createStart+30*ce.jU*60*1e3));for(let t=0;t<this.events.length-1;t++){let e=this.events[t],s=new Date(e.start),i=new Date(e.end);i.getTime()<=this.newMeeting.start||(this.newMeeting.end=Math.min(this.newMeeting.end,s.getTime()))}}},endDrag(){this.dragTime=null,this.dragEvent=null,this.createStart=null,this.extendOriginal=null},cancelDrag(){this.newMeeting&&this.extendOriginal&&(this.newMeeting.end=this.extendOriginal),this.endDrag()},roundTime(e,t=!0){const s=30,i=60*s*1e3;return t?e-e%i:e+(i-e%i)},toDate(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute)},toTime(e){return this.toDate(e).getTime()},viewWeek(){this.mode="week"},getReadTime(){return le()().format("MMMM Do YYYY, h:mm:ss a")},currDateFormatted(){return le()(this.targetDate).format("MMMM YYYY")},getCurrentTime(){return this.cal?60*this.cal.times.now.hour+this.cal.times.now.minute:0},scrollToTime(){const e=this.getCurrentTime(),t=Math.max(0,e-e%30-30);this.cal.scrollToTime(t)},updateTime(){setInterval((()=>this.cal.updateTimes()),6e4)}},watch:{newMeeting:{handler(e){if(!e)return;this.showCreatePrompt=!0;let t=new Date(this.newMeeting.start),s=new Date(this.newMeeting.end);this.meetingStartTime=(0,ue.getFormattedTime)(t),this.meetingEndTime=(0,ue.getFormattedTime)(s),this.meetingDate=(0,ue.getFormattedDate)(t)},deep:!0},"$store.state.user":function(){this.reloadPublicMeetings()},showCreatePrompt:{handler(){this.$nextTick((()=>{this.$refs.bottomSheet.showScroll()}))}}}},De=ke,je=(0,M.Z)(De,ne,re,!1,null,null,null),xe=je.exports,Se=s(344),Me=s(9730),Fe=function(){var e=this,t=e._self._c;return t($.Z,[t(Y.Z,[t(N.Z,{staticClass:"col-md-12 col-lg-5"},[t("h1",{staticClass:"text-h2 font-weight-bold"},[e._v("You're Almost There!")]),t("h3",[e._v("Kindly fill up the information below and we're good to go!")]),t(te.Z,{ref:"form",staticClass:"mt-12"},[t(Me.Z,{attrs:{items:e.houseItems,label:"House",rules:e.houseInputRules,outlined:""},model:{value:e.house,callback:function(t){e.house=t},expression:"house"}}),t(Me.Z,{attrs:{items:e.yearItems,label:"Year",rules:e.yearInputRules,outlined:""},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),t(Me.Z,{attrs:{items:e.mentorItems,rules:e.mentorInputRules,label:"Mentor Group",outlined:""},model:{value:e.mentorClass,callback:function(t){e.mentorClass=t},expression:"mentorClass"}}),t(Se.Z,{attrs:{label:"Major",chips:"","deletable-chips":"",outlined:"",multiple:"",rules:e.majorInputRules,items:e.majorItems},model:{value:e.majors,callback:function(t){e.majors=t},expression:"majors"}}),t(Se.Z,{attrs:{label:"Honours",chips:"","deletable-chips":"",outlined:"",multiple:"",rules:[e.majorsAndHonoursRule],items:e.majorItems},model:{value:e.honours,callback:function(t){e.honours=t},expression:"honours"}}),t(r.Z,{staticClass:"mr-4",attrs:{color:"primary"},on:{click:e.submit}},[e._v(" submit ")])],1)],1),t(_.Z),t(N.Z,{staticClass:"col-lg-6 mt-12"},[t(G.Z,{attrs:{src:s(1473)}})],1)],1)],1)},Ie=[],Te=s(9031),Ae={data:()=>({house:"",majors:[],honours:[],mentorClass:"",year:0,houseInputRules:[e=>!!e||"House is Required"],mentorInputRules:[e=>!!e||"Mentor Class is Required"],majorInputRules:[e=>e.length>=2||"At least two majors is required"],yearInputRules:[e=>!!e||"Year is Required"],houseItems:ce.e1,yearItems:Array.from(Array(6).keys()).map((e=>e+1)),mentorItems:ce.Dx,majorItems:ce.po}),name:"RegisterView",computed:{majorsAndHonoursRule(){return!this.honours.some((e=>this.majors.every((t=>t!==e))))||"You can only honour in a subject that you major in!"}},methods:{submit(){this.$refs.form.validate()&&(0,Te.postRegistrationData)(this.house,this.year,this.majors,this.honours,this.mentorClass).then((e=>{e.success?(this.$store.commit("showSnackbar","Registration details have been submitted successfully!"),window.location.href="/calendar"):this.$store.commit("showSnackbar","There was an error submitting you details! Please try again.")}))}}},Ee=Ae,Ue=(0,M.Z)(Ee,Fe,Ie,!1,null,"31412b7d",null),Re=Ue.exports,qe=s(2318),Oe=s(1625),Pe=s(5187),Ne=s(6313),$e=function(){var e=this,t=e._self._c;return t($.Z,{staticClass:"pa-0",attrs:{fluid:""}},[t(Y.Z,[t(G.Z,{staticStyle:{position:"relative","align-items":"center"},attrs:{src:s(5032),"max-height":"300"}},[t("h1",{staticClass:"display-2 font-weight-bold pa-4",staticStyle:{"text-align":"center",color:"white"}},[e._v(" University Database")])])],1),e.isAdmin?t(Y.Z,[t(r.Z,{staticClass:"ml-6 mt-4",attrs:{text:"",color:"primary"},on:{click:function(t){e.addUniversity=!0}}},[t(u.Z,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add University ")],1)],1):e._e(),t(ee.Z,{attrs:{width:"100%"},model:{value:e.addUniversity,callback:function(t){e.addUniversity=t},expression:"addUniversity"}},[t(o.Z,{attrs:{tile:""}},[t(Ne.Z,{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Add New University")]),t(K.ZB,[t(te.Z,{ref:"uniForm",staticClass:"pt-4"},[t(ae.Z,{attrs:{label:"Name",dense:"",rules:[e.nameRules,e.nameIsUnique],"prepend-icon":"mdi-town-hall",outlined:""},model:{value:e.uniNameInput,callback:function(t){e.uniNameInput=t},expression:"uniNameInput"}}),t(ae.Z,{attrs:{label:"Country",dense:"",rules:e.countryRules,"prepend-icon":"mdi-earth",outlined:""},model:{value:e.countryInput,callback:function(t){e.countryInput=t},expression:"countryInput"}}),t(ae.Z,{attrs:{label:"State",rules:e.stateRules,"prepend-icon":"mdi-map-marker-radius",dense:"",outlined:""},model:{value:e.stateInput,callback:function(t){e.stateInput=t},expression:"stateInput"}}),t(ae.Z,{attrs:{label:"Enrollment",dense:"",type:"number",rules:e.enrollRules,"prepend-icon":"mdi-account-multiple",outlined:""},model:{value:e.enrollmentInput,callback:function(t){e.enrollmentInput=t},expression:"enrollmentInput"}}),t(ae.Z,{attrs:{label:"Website",dense:"",rules:e.websiteRules,"prepend-icon":"mdi-web",outlined:""},model:{value:e.websiteInput,callback:function(t){e.websiteInput=t},expression:"websiteInput"}}),t(Oe.Z,{attrs:{outlined:"",dense:"",accept:"image/*",label:"Logo",loading:e.isUploading,rules:[e=>!!e||"Logo image is required"]},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}}),t(f.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(ae.Z,e._g({attrs:{label:"Application Start Date",readonly:"",dense:"",outlined:"","prepend-icon":"mdi-calendar-start",value:e.format(e.startDate),rules:[e.startDateRules]}},s))]}}]),model:{value:e.startDatePicker,callback:function(t){e.startDatePicker=t},expression:"startDatePicker"}},[t(qe.Z,{attrs:{min:(new Date).toISOString().substring(0,10)},on:{input:function(t){e.startDatePicker=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),t(f.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(ae.Z,e._g({attrs:{label:"Application End Date",readonly:"",dense:"",outlined:"","prepend-icon":"mdi-calendar-end",value:e.format(e.endDate),rules:e.endDateRules}},s))]}}]),model:{value:e.endDatePicker,callback:function(t){e.endDatePicker=t},expression:"endDatePicker"}},[t(qe.Z,{attrs:{min:(new Date).toISOString().substring(0,10)},on:{input:function(t){e.endDatePicker=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1)],1)],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"},on:{click:e.submitAddUniversity}},[e._v(" Done ")]),t(r.Z,{attrs:{text:""},on:{click:function(t){e.addUniversity=!1}}},[e._v(" Cancel ")])],1)],1)],1),t(ee.Z,{model:{value:e.addCourse,callback:function(t){e.addCourse=t},expression:"addCourse"}},[t(o.Z,{attrs:{tile:""}},[t(Ne.Z,{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Add New Course")]),t(K.ZB,[t(te.Z,{ref:"courseForm",staticClass:"pt-4"},[t(ae.Z,{attrs:{label:"Title",dense:"",rules:[e.titleRules],"prepend-icon":"mdi-school",outlined:""},model:{value:e.courseTitleInput,callback:function(t){e.courseTitleInput=t},expression:"courseTitleInput"}}),t(ae.Z,{attrs:{label:"Faculty",dense:"",rules:[e=>!!e||"Faculty is required"],"prepend-icon":"mdi-office-building",outlined:""},model:{value:e.facultyInput,callback:function(t){e.facultyInput=t},expression:"facultyInput"}}),t(ae.Z,{attrs:{label:"Description",rules:[e=>!!e||"Description is required"],"prepend-icon":"mdi-text",dense:"",outlined:""},model:{value:e.courseDescInput,callback:function(t){e.courseDescInput=t},expression:"courseDescInput"}}),t(ae.Z,{attrs:{label:"Tuition Fee",dense:"",type:"number",rules:[e=>!!e||"Tuition fee is required"],"prepend-icon":"mdi-currency-usd",outlined:""},model:{value:e.tuitionFeeInput,callback:function(t){e.tuitionFeeInput=t},expression:"tuitionFeeInput"}}),t(ae.Z,{attrs:{label:"Duration (Years)",dense:"",type:"number",rules:[e=>!!e||"Duration is required"],"prepend-icon":"mdi-clock",outlined:""},model:{value:e.durationInput,callback:function(t){e.durationInput=t},expression:"durationInput"}}),t(Oe.Z,{attrs:{outlined:"",dense:"",accept:"image/*",label:"Logo",loading:e.isUploading,rules:[e=>!!e||"Course image is required"]},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}})],1)],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"},on:{click:e.submitAddCourse}},[e._v(" Done ")]),t(r.Z,{attrs:{text:""},on:{click:function(t){e.addCourse=!1}}},[e._v(" Cancel ")])],1)],1)],1),t(Y.Z,{staticClass:"px-8 py-4"},e._l(e.universities,(function(s){return t(N.Z,{key:s.name,attrs:{cols:"4"}},[t(o.Z,[t(G.Z,{staticClass:"mx-auto my-2",attrs:{contain:"",width:"250",height:"250",src:s.image_link}}),t(K.EB,{staticClass:"pt-0"},[e._v(e._s(s.name))]),t(K.Qq,[e._v(e._s(s.state)+", "+e._s(s.country))]),t(d.Z,[t(m.Z,[t(p.Z,[t(u.Z,[e._v("mdi-account-multiple")])],1),t(h.km,[e._v("Enrollment")]),t(Pe.Z,[t(X.Z,{attrs:{color:"primary"}},[e._v(e._s(s.enrollment))])],1)],1),t(m.Z,{attrs:{"two-line":""}},[t(p.Z,[t(u.Z,[e._v("mdi-calendar-clock")])],1),t(h.km,[t(h.V9,[e._v("Application Period")]),t(h.oZ,[e._v(e._s(e.getFormattedDate(s.app_start_date,!0,!0))+" to "+e._s(e.getFormattedDate(s.app_end_date,!0,!0))+" ")])],1)],1)],1),t(_.Z),t(K.h7,{staticClass:"justify-end"},[t(_.Z),t(r.Z,{attrs:{color:"primary"},on:{click:function(t){e.selectedUni=s,e.showCourses=!0}}},[t(u.Z,{staticClass:"pr-3"},[e._v("mdi-school")]),e._v(" Courses ")],1),t(r.Z,{attrs:{color:"primary",href:s.website}},[t(u.Z,{staticClass:"pr-3"},[e._v("mdi-web")]),e._v(" Website ")],1)],1)],1)],1)})),1),t(ee.Z,{attrs:{fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.showCourses,callback:function(t){e.showCourses=t},expression:"showCourses"}},[t(o.Z,{attrs:{tile:""}},[t(K.ZB,{staticClass:"px-0"},[t(K.EB,{staticClass:"primary white--text font-weight-bold"},[e._v(" Courses "),t(_.Z),t(r.Z,{attrs:{color:"white",icon:""},on:{click:function(t){e.showCourses=!1}}},[t(u.Z,[e._v("mdi-close")])],1)],1),e.isAdmin?t(r.Z,{staticClass:"ml-6 mt-4",attrs:{text:"",color:"primary"},on:{click:function(t){e.addCourse=!0}}},[t(u.Z,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Course ")],1):e._e(),t($.Z,{attrs:{fluid:""}},e._l(e.courseForSelectedUni,(function(s){return t("div",{key:s[0].faculty},[t(ie.Z,[e._v(e._s(s[0].faculty))]),e._l(s,(function(e){return t(Y.Z,{key:e.title},[t(N.Z,[t("CourseCard",{key:e.title,attrs:{name:e.title,description:e.description,src:e.image_link,cost:e.tuition_fee,duration:e.duration}})],1)],1)}))],2)})),0)],1)],1)],1)],1)},Ge=[];async function Ye(){try{const e=await fetch("/api/uni");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function Be(e,t,s,i,a,n,r,o){let l={name:e,country:t,state:s,enrollment:i,website:a,imageLink:n,startDate:r,endDate:o};return await(await fetch("/api/uni/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(l)})).json()}var ze=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{elevation:"2",outlined:""}},[t(m.Z,[t(de.Z,{attrs:{tile:"",size:"150"}},[t(G.Z,{attrs:{src:e.src}})],1),t(h.km,[t($.Z,{staticClass:"pa-0",attrs:{fluid:""}},[t(h.V9,{staticClass:"headline font-weight-bold"},[e._v(e._s(e.name))]),t("p",[e._v(e._s(e.description))]),t(X.Z,{staticClass:"mr-2",attrs:{color:"primary",label:""}},[t(k.Z,{attrs:{left:""}},[t(u.Z,[e._v("mdi-currency-usd")])],1),e._v(" "+e._s(e.cost)+" ")],1),t(X.Z,{attrs:{label:"",color:"primary"}},[t(k.Z,{attrs:{left:""}},[t(u.Z,[e._v("mdi-clock-time-eight")])],1),e._v(" "+e._s(e.duration)+" ")],1)],1)],1),t(r.Z,{attrs:{color:"primary","max-height":"auto"}},[e._v("Apply")])],1)],1)},Le=[],Ve={name:"CourseCard",props:{src:{requestId:!0,type:String},name:{require:!0,type:String},description:{require:!0,type:String},cost:{require:!0,type:String},duration:{require:!0,type:Number}}},Je=Ve,He=(0,M.Z)(Je,ze,Le,!1,null,"21b788aa",null),Qe=He.exports,We=s(5503),Ke=s(1153);const Xe={apiKey:"AIzaSyAz3q1nX9gfNeKBnU0MmWWY8SH2rKG3jCQ",authDomain:"centros-417e4.firebaseapp.com",projectId:"centros-417e4",storageBucket:"centros-417e4.appspot.com",messagingSenderId:"460576686538",appId:"1:460576686538:web:2bec34e6f76cf23729cf33"},et=(0,We.ZF)(Xe),tt=(0,Ke.cF)(et);async function st(e,t,s){const i=(0,Ke.iH)(tt,t);return await(0,Ke.KV)(i,e,s)}async function it(e){return await(0,Ke.Jt)((0,Ke.iH)(tt,e))}async function at(){try{const e=await fetch("/api/course");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function nt(e,t,s,i,a,n,r){let o={uni_name:e,title:t,faculty:s,description:i,tuition_fee:a,duration:n,image_link:r};return await(await fetch("/api/course/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(o)})).json()}var rt={name:"UniversityView",components:{CourseCard:Qe},data:()=>({uniNameInput:"",countryInput:"",stateInput:"",enrollmentInput:null,websiteInput:"",imageFile:null,startDate:null,endDate:null,isUploading:!1,addUniversity:!1,startDatePicker:!1,endDatePicker:!1,courses:[],addCourse:!1,courseTitleInput:"",facultyInput:"",courseDescInput:"",tuitionFeeInput:"",durationInput:"",nameRules:[e=>!!e||"Name is required"],countryRules:[e=>!!e||"Country is required"],enrollRules:[e=>!!e||"Enrollment is required"],stateRules:[e=>!!e||"State is required"],websiteRules:[e=>!!e||"Website is required"],endDateRules:[e=>!!e||"End date is required"],universities:[],selectedUni:null,showCourses:!1,headers:[{text:"Name",value:"name"},{text:"Enrollment",value:"enrollment"},{text:"Country",value:"country"},{text:"State",value:"state"},{text:"Application Start Date",value:"app_start_date"},{text:"Application End Date",value:"app_end_date"}]}),computed:{courseForSelectedUni(){if(!this.selectedUni)return[];let e=this.courses.filter((e=>e.uni_name===this.selectedUni.name)),t={};for(let s=0;s<e.length;++s)t[e[s].faculty]||(t[e[s].faculty]=[]),t[e[s].faculty].push(e[s]);return t},nameIsUnique(){return!this.universities.some((e=>e.name===this.uniNameInput))||"University with name "+this.uniNameInput+" already exists!"},titleRules(){return this.courseTitleInput?!Object.values(this.courseForSelectedUni).some((e=>e.some((e=>e.title===this.courseTitleInput))))||"Course title already exists!":"Title is required!"},startDateRules(){return this.startDate?!this.startDate||!this.endDate||(!(this.startDate>this.endDate)||"Application Start Date must be before End"):"Start Date is Required"},isAdmin(){return!!this.$store.state.user&&this.$store.state.user.isAdmin}},methods:{getFormattedDate:ue.getFormattedDate,reloadCourse(){at().then((e=>{this.courses=e}))},reloadUniversity(){Ye().then((e=>{this.universities=e}))},format(e){return(0,ue.getFormattedDate)(e,!0)},submitAddCourse(){if(this.$refs.courseForm.validate()){this.isUploading="primary";const t="course/"+this.selectedUni.name+"/"+this.courseTitleInput;try{st(this.imageFile,t).then((()=>{it(t).then((e=>{nt(this.selectedUni.name,this.courseTitleInput,this.facultyInput,this.courseDescInput,this.tuitionFeeInput,this.durationInput,e).then((e=>{this.$refs.courseForm.reset(),this.isUploading=!1,this.addCourse=!1,e.success?this.$store.commit("showSnackbar","Successfully added course!"):this.$store.commit("showSnackbar","There was an error adding the course :("),this.reloadCourse()}))}))}),{contentType:this.imageFile.type})}catch(e){this.addUniversity=!1,this.$store.commit("showSnackbar","Oops! There was an while uploading :(")}}},submitAddUniversity(){if(this.$refs.uniForm.validate()){this.isUploading="primary";const t="university/"+this.uniNameInput;try{st(this.imageFile,t).then((()=>{it(t).then((e=>{Be(this.uniNameInput,this.countryInput,this.stateInput,this.enrollmentInput,this.websiteInput,e,this.startDate,this.endDate).then((e=>{this.$refs.uniForm.reset(),this.isUploading=!1,this.addUniversity=!1,e.success?this.$store.commit("showSnackbar","Successfully added university!"):this.$store.commit("showSnackbar","There was an error adding the university :("),this.reloadUniversity()}))}))}),{contentType:this.imageFile.type})}catch(e){this.addUniversity=!1,this.$store.commit("showSnackbar","Oops! There was an while uploading :(")}}}},mounted(){this.reloadCourse(),this.reloadUniversity()}},ot=rt,lt=(0,M.Z)(ot,$e,Ge,!1,null,"218d6a13",null),ct=lt.exports,ut=function(){var e=this,t=e._self._c;return t($.Z,{attrs:{fluid:""}},[t(Y.Z,{attrs:{justify:"center"}},[t(G.Z,{attrs:{src:s(4149),"max-width":"40%"}})],1),t(Y.Z,{staticClass:"py-12",attrs:{justify:"center"}},[t("h1",[e._v("Oops, we couldn't find this page...")])])],1)},dt=[],mt={name:"FileNotFound"},ht=mt,pt=(0,M.Z)(ht,ut,dt,!1,null,"56287ddf",null),gt=pt.exports,ft=s(7912),vt=function(){var e=this,t=e._self._c;return t($.Z,{staticClass:"pa-0",attrs:{"fill-height":""}},[t(Y.Z,{staticClass:"fill-height",attrs:{"no-gutters":""}},[t(N.Z,{staticClass:"fill-height",attrs:{cols:"3"}},[t(v.Z,{attrs:{permanent:""},scopedSlots:e._u([e.isAdmin?{key:"append",fn:function(){return[t(r.Z,{attrs:{text:"",color:"primary"},on:{click:function(t){e.categoryDialog=!0}}},[t(u.Z,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Category ")],1)]},proxy:!0}:null],null,!0)},[t(d.Z,{attrs:{dense:""}},[t(ie.Z,[e._v("CATEGORY")]),t(ft.Z,{model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}},e._l(e.categories,(function(s){return t(m.Z,{key:s.name,attrs:{value:s.name}},[e._v(" "+e._s(s.name)+" ")])})),1)],1),t(ee.Z,{attrs:{width:"700"},model:{value:e.categoryDialog,callback:function(t){e.categoryDialog=t},expression:"categoryDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Add A Category ")]),t(K.ZB,[t(te.Z,{ref:"categoryForm"},[t(ae.Z,{attrs:{outlined:"",dense:"",rules:[e=>!!e||"Category name is required",e.isNewCategory],label:"Category"},model:{value:e.categoryInput,callback:function(t){e.categoryInput=t},expression:"categoryInput"}})],1)],1),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitCreateCategory}},[e._v(" Confirm ")]),t(r.Z,{attrs:{text:""},on:{click:e.closeCreateCategory}},[e._v(" Cancel ")])],1)],1)],1)],1)],1),t(N.Z,{attrs:{cols:"9"}},[t(ee.Z,{attrs:{width:"500"},model:{value:e.guideDialog,callback:function(t){e.guideDialog=t},expression:"guideDialog"}},[t(o.Z,{attrs:{tile:""}},[t(K.EB,{staticClass:"font-weight-bold"},[e._v("Add New Guide")]),t(K.ZB,[t(te.Z,{ref:"guideForm",staticClass:"pt-4"},[t(ae.Z,{attrs:{label:"Title",dense:"",rules:[e=>!!e||"Title is required!"],"prepend-icon":"mdi-pencil",outlined:""},model:{value:e.titleInput,callback:function(t){e.titleInput=t},expression:"titleInput"}}),t(ae.Z,{attrs:{label:"Description",dense:"",rules:[e=>!!e||"Description is required!"],"prepend-icon":"mdi-text",outlined:""},model:{value:e.descriptionInput,callback:function(t){e.descriptionInput=t},expression:"descriptionInput"}}),t(Oe.Z,{attrs:{outlined:"",dense:"",accept:"image/*",label:"Cover Image",loading:e.isUploading,rules:[e=>!!e||"Cover image is required"]},model:{value:e.imageFile,callback:function(t){e.imageFile=t},expression:"imageFile"}}),t("p",[e._v(" Which file would you like to make as a Guide? ")]),t(Se.Z,{attrs:{"prepend-icon":"mdi-file",dense:"",items:e.files,"no-data-text":"No Files Found",clearable:"",label:"Select File",solo:"",outlined:"",flat:"",rules:[e=>!!e||"File is required"]},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})],1)],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"},on:{click:e.submitCreateGuide}},[e._v(" Submit ")]),t(r.Z,{attrs:{text:""},on:{click:e.closeCreateGuide}},[e._v(" Cancel ")])],1)],1)],1),0===e.categories.length?t($.Z,{staticClass:"fill-height"},[t(Y.Z,{attrs:{justify:"center",align:"center"}},[t(G.Z,{attrs:{contain:"","max-height":"200",src:s(7845)}}),t("p",{staticClass:"overline mt-4"},[e._v("There's No Categories to Show :(")])],1)],1):e._e(),e.categories.length>0?t($.Z,{staticClass:"d-flex flex-wrap justify-center"},[e.isAdmin?t("div",[t(r.Z,{staticClass:"mb-2",attrs:{text:"",color:"primary"},on:{click:e.openCreateGuide}},[t(u.Z,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Guide ")],1),t(_.Z)],1):e._e(),t($.Z,[0===e.getGuidesForSelectedCategory.length?t(Y.Z,{attrs:{justify:"center",align:"center"}},[t(G.Z,{attrs:{contain:"","max-height":"200",src:s(1633)}}),t("p",{staticClass:"overline mt-4"},[e._v("There's No Guides in this category for now :(")])],1):e._e()],1),e._l(e.getGuidesForSelectedCategory,(function(s){return t(o.Z,{key:s.document_id,staticClass:"mb-4",attrs:{width:"720",outlined:""}},[t(G.Z,{attrs:{height:"200",src:s.image_link}}),t(K.EB,[t("h3",{staticClass:"font-weight-bold"},[e._v(e._s(s.title))])]),t(K.Qq,[t("p",{staticClass:"ma-0"},[e._v(e._s(s.publisher))])]),t(K.ZB,[e._v(" "+e._s(s.description)+" ")]),t(K.h7,[t(_.Z),t(r.Z,{attrs:{outlined:"",color:"primary",href:s.link}},[t(u.Z,[e._v("mdi-open-in-new")]),e._v(" View ")],1)],1)],1)}))],2):e._e()],1)],1)],1)},yt=[];async function _t(){try{const e=await fetch("/api/category");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}async function Zt(e){const t=await(await fetch("/api/category/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e})})).json();if(!t.success)throw new Error(t.message);return t}const{getMysqlFormattedDate:wt,getMysqlFormattedTime:bt}=s(7811);async function Ct(e,t,s,i){let a={file_name:e,mime_type:t,link:s,access_time:bt(new Date),access_date:wt(new Date),document_type:i};return await(await fetch("/api/document/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(a)})).json()}async function kt(){try{const e=await fetch("/api/document/user");if(200===e.status){const t=[];for(const s of await e.json())s.last_access_datetime=new Date(wt(s.last_access_date)+" "+s.last_access_time),s.last_access_date=(0,ue.getFormattedDate)(new Date(s.last_access_date)),t.push(s);return t}return null}catch(e){return console.log(e),null}}async function Dt(){try{const e=await fetch("/api/document/shared");if(200===e.status){const t=[];for(const s of await e.json())s.last_access_datetime=new Date(wt(s.last_access_date)+" "+s.last_access_time),s.last_access_date=(0,ue.getFormattedDate)(new Date(s.last_access_date)),t.push(s);return t}return null}catch(e){return console.log(e),null}}async function jt(e,t,s,i,a){let n={document_id:e,category:t,title:s,description:i,image_link:a};return console.log(n),await(await fetch("/api/guide/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).json()}async function xt(){try{const e=await fetch("/api/guide");return 200===e.status?e.json():null}catch(e){return console.log(e),null}}var St={name:"GuidesView",data:()=>({selectedCategory:"",guides:[],titleInput:"",descriptionInput:"",isUploading:!1,imageFile:null,selectedFile:null,files:[],categories:[],guideDialog:!1,categoryInput:null,categoryDialog:!1}),computed:{isAdmin(){return!!this.$store.state.user&&this.$store.state.user.isAdmin},getGuidesForSelectedCategory(){return this.guides.filter((e=>e.category===this.selectedCategory))}},mounted(){this.reloadCategories(),this.reloadGuides()},methods:{reloadGuides(){xt().then((e=>{this.guides=e}))},isNewCategory(e){return!this.categories.some((t=>e===t.name))||"Category name already exists!"},reloadCategories(){_t().then((e=>{this.categories=e,this.categories.length>0&&(this.selectedCategory=this.categories[0].name)}))},openCreateGuide(){kt().then((e=>{for(const t of e)this.files.push({text:t.file_name,value:t.document_id,disabled:!1});this.guideDialog=!0}))},closeCreateGuide(){this.$refs.guideForm.reset(),this.guideDialog=!1},submitCreateGuide(){if(this.$refs.guideForm.validate()){this.isUploading="primary";const t=this.selectedFile,s="guides/"+t;try{st(this.imageFile,s).then((()=>{it(s).then((e=>{jt(t,this.selectedCategory,this.titleInput,this.descriptionInput,e).then((e=>{this.closeCreateGuide(),e.success?this.$store.commit("showSnackbar","Successfully created guide!"):this.$store.commit("showSnackbar","There was an error creating the guide :("),this.reloadGuides()}))}))}),{contentType:this.imageFile.type})}catch(e){this.closeCreateGuide(),this.$store.commit("showSnackbar","Oops! There was an while uploading :(")}}},closeCreateCategory(){this.$refs.categoryForm.reset(),this.categoryDialog=!1},submitCreateCategory(){this.$refs.categoryForm.validate()&&Zt(this.categoryInput).then((e=>{this.closeCreateCategory(),e.success?this.$store.commit("showSnackbar","Successfully added Category!"):this.$store.commit("showSnackbar","There was an error while creating the category :("),this.reloadCategories()}))}}},Mt=St,Ft=(0,M.Z)(Mt,vt,yt,!1,null,"39e81d52",null),It=Ft.exports,Tt=s(3924),At=s(2165),Et=s(1402),Ut=s(5085),Rt=function(){var e=this,t=e._self._c;return t($.Z,{staticClass:"pa-0"},[t(Et.Z,{staticClass:"primary",attrs:{centered:"",grow:""},model:{value:e.tabSelected,callback:function(t){e.tabSelected=t},expression:"tabSelected"}},[t(Tt.Z,[e._v("My Files")]),t(Tt.Z,[e._v("Shared with Me")])],1),t(Ut.Z,{model:{value:e.tabSelected,callback:function(t){e.tabSelected=t},expression:"tabSelected"}},[t(At.Z,[t($.Z,{staticClass:"pt-4 pa-0"},[t(Y.Z,{attrs:{"no-gutters":""}},[t(N.Z,{staticClass:"col-8"},[t(r.Z,{staticClass:"ml-4 pl-2",attrs:{text:"",color:"primary"},on:{click:function(t){e.addFile=!0}}},[t(u.Z,[e._v("mdi-plus")]),e._v(" New File ")],1)],1),t(N.Z,[t(Me.Z,{staticClass:"pr-4",attrs:{dense:"",outlined:"","prepend-icon":"mdi-filter",items:e.sortItems,label:"Sort by"},model:{value:e.sortTypeSelected,callback:function(t){e.sortTypeSelected=t},expression:"sortTypeSelected"}})],1)],1),0===e.files.length?t($.Z,{staticClass:"mt-12",attrs:{fluid:""}},[t(Y.Z,{attrs:{justify:"center"}},[t(G.Z,{attrs:{contain:"","max-height":"200",src:s(9480)}})],1),t(Y.Z,{attrs:{justify:"center"}},[t("p",{staticClass:"overline mt-4"},[e._v("You do not have any files :(")])])],1):e._e(),t(Y.Z,{staticClass:"mt-0"},[e.files.length>0?t($.Z,{staticClass:"pt-0 d-flex flex-wrap"},e._l(e.files,(function(s){return t("FileCard",{key:s.document_id,attrs:{filename:s.file_name,filetype:s.file_type,link:s.link,"access-date":s.last_access_date,"access-time":s.last_access_time,"show-review":!0},on:{review:function(t){return e.submitReview(s)}}})})),1):e._e()],1)],1),t(ee.Z,{attrs:{width:"700"},model:{value:e.addFile,callback:function(t){e.addFile=t},expression:"addFile"}},[t(Ne.Z,{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Add New File")]),t(o.Z,[t(K.ZB,[t(te.Z,{ref:"form",staticClass:"pt-12"},[t(Oe.Z,{attrs:{outlined:"",rules:[e=>!!e||"File is required"],label:"File"},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}}),t(ae.Z,{attrs:{"prepend-icon":"mdi-web",label:"Link",rules:[e=>!!e||"Link is required"],outlined:""},model:{value:e.linkInput,callback:function(t){e.linkInput=t},expression:"linkInput"}})],1)],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"},on:{click:e.submitCreateDocument}},[e._v(" Done ")]),t(r.Z,{attrs:{text:""},on:{click:e.closeCreateDocument}},[e._v(" Cancel ")])],1)],1)],1)],1),t(At.Z,[0===e.sharedFiles.length?t($.Z,{staticClass:"mt-12",attrs:{fluid:""}},[t(Y.Z,{attrs:{justify:"center"}},[t(G.Z,{attrs:{contain:"","max-height":"200",src:s(9480)}})],1),t(Y.Z,{attrs:{justify:"center"}},[t("p",{staticClass:"overline mt-4"},[e._v("You do not have any files :(")])])],1):e._e(),e.sharedFiles.length>0?t($.Z,{staticClass:"pt-4 pa-0"},[t(Y.Z,{staticClass:"mt-0"},[t($.Z,{staticClass:"pt-0 d-flex flex-wrap"},e._l(e.sharedFiles,(function(e){return t("FileCard",{key:e.document_id,attrs:{filename:e.file_name,filetype:e.file_type,link:e.link,"access-date":e.last_access_date,"access-time":e.last_access_time,"show-review":!1}})})),1)],1)],1):e._e()],1)],1)],1)},qt=[],Ot=s(2082),Pt=function(){var e=this,t=e._self._c;return t(o.Z,{staticClass:"mx-auto my-4 d-flex flex-column",attrs:{width:"240",elevation:"2",outlined:""}},[t(G.Z,{staticClass:"mx-auto my-5",attrs:{"max-width":"125",contain:"",src:e.getImageForFileType()}}),t(K.EB,[e._v(e._s(e.filename))]),t(K.Qq,[e._v("Last Modified: "+e._s(e.accessDate)+" "+e._s(e.accessTime))]),t(_.Z),t(K.h7,[t(r.Z,{attrs:{color:"mary",text:"",href:e.link}},[e._v(" View ")]),t(_.Z),e.showReview?t(Ot.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(r.Z,e._g(e._b({attrs:{icon:""},on:{click:function(t){e.confirmDialog=!0}}},"v-btn",i,!1),s),[t(u.Z,[e._v("mdi-message-draw")])],1)]}}],null,!1,1514194874)},[t("span",[e._v("Send for Review")])]):e._e(),t(ee.Z,{attrs:{width:"300"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Review File ")]),t(K.ZB,[e._v(" Are you sure you want to send this file for review? ")]),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.handleReview}},[e._v(" Confirm ")]),t(r.Z,{attrs:{text:""},on:{click:function(t){e.confirmDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)],1)},Nt=[],$t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAArlBMVEX///8YWr2XlZPHxcOsqqmSkI7Ny8nU0tDQzs3q6uoATLkAULqwr60ATrmYlpWTkY/W3/Lc29mqvOLF0uvk5OTo7vgAU7vQ2O0ASbiElsCYrtynpaP4+Pju8/oAVryQqdovZ8J9mtS5yOdehMy1tLK+vbyMncevweR0lNJFdMZUfsphhsz2+f07bsQAPLWFoNaJlrJ0gp/g6PUfX78ARLdNeciXrdxsjtB3i7RleqVlbg7bAAAH1UlEQVR4nO2dbUPiOBDHW6G6FisKS+mBFFx1WbWudz6sd9//i11bk8kDtdIlD6M7/ze7OiXlx2SSmSTUICCRSCQSiUQikUgkzzq9PN6zq/nVoUe+s3k0tAy4tzeMrvwB7tnnqxT1fREeuQH0h3gYVTc/7tvT3DNir3Th0GqM1J/h8dAb4mV568jqHb6WhNHpUeQL8aj6gK3e4ZUw6PvyojPCoO/Ji+4IGeKR1Zs1yCGhp47qktAPolPCYO4B0S2hDy86JmSILocb14Tuveic0LkX3ROy4cYZogdCx170Qeh20vBC6NSLfghdxqInQoeThi9Cd170RugM0R+hq+HGI6EjL/okdONFr4ROvOiX0IUXPRM68KJvQvte9E5o3Yv+CW0jIiC0jIiB0C4iCkKriDgIbSIiIbSIiIXQHiIaQmuIeAhtISIitISIidAOIipChmj28It9wuo8zdYndl4Rt/w8tpN9wqA+oHBwtt3F9QmqucnbOyC8rP2ypV7Ph235cWwlB4Rn0XuH+nRFJk+jOiCsx5rPTRgczqNouKU+JmHJ+KV3tZV6Rx+UcHudRp+d8IAIu4oInYsIO4sInYsIO4sInYsIO6si3DPY3s76DcLJdNyiv/8p1XaBpgdLYKCuhIvzxyxOWpTmeZ62XaAqzvLbE3t4QWfCUZyGppU/nVsE7Ei4zIzzVUqesRB+swNYIv7AQVgklgDDMJuiIFwOrBHm1ygIV9YAwzBeICBcxBYJk28ICB9sEg5GCAhPiJAIiZAIiZAI/RKmfx3sm9EXjQYP4X7PkK7UTftPSNj7ipTQGGAPqQ+/H5gS0jjEOJbCctlmXSytteW6LW82ISRcLSZMU31xY7AG2+JGQ0zPuW3xIpsQEiaiKNcXGCVTMNM8PFiD6Q65D5MxGHQ/rd58URjGsPyrLhkgJEzvwbBUnZgqS4PaAmQGhrHSuRESSqtj6nuVO2KpZ8XB+R0Y1M8FIaHkjYXqp0zZbJkpIJJ/r7GPpWEsFnEfFUOuvGr6VrhpjkdImM7AciG7I79QXlUoPhQDjd7a94MvZmQup8lvwKL0xMFMfZnSGwcwkWjTiMnM21heKnqjMtTE2haEMqKs4Ne36hSDsraQpjZ5qBkU7PIG/PwFWlPbwlkfSoOD7Fk+HyzZv4WEL3rwgzZPmotDgzW+5BApxYRMAGa+O2EUPXitZ3MIx9ISBkwj8X75FkvxkxvvRSBmMND80JJZnIRiapcmPQ5x8rMhEB+hsUetLZyEYkesED5csV+tn3jytgDC/Ja/YLJRcaEkTMUZCqiEIC27j8EKO6siSfj2MQhDkUZDWEHafZ2uuPGcG0XFda/XlEgJxdY0DDUxi80iF4UwOCye8Ouv9dUNpITCJ2AbiF+AdcLnPsiCio2mkBKmSzAyCEhWS6cK66Nm1AoOxIRSPcumdRhLyhxA1MgsSgXybOPsmMH1Uu2beLutl8YFN7LRBJKWXLayBEbMLvrKDt41bykLex1NEgZVhx5Y2SkOkSFsAOKsLUIlk66N0DHr4VNMf6xTt7SEsrYI5bGjqN0CaXc93wlrnZnncAJx1LBMbmz/cF914a77FqIKrmc4iLTX+S7ngVgjifXHl81einQslavg2msZm9JZngrWuhoUq4yb7eAlFG+sjjzuUjbfCavCO2k4poqWUFTBlZvgJ7bMJGqJajUu5j9spN2YCcMQzLn0NvkyE9TIVSBCerCRdqMmFMl0OYtDP+QIMAOWrxW11t3mQIOYUOQp1aoh+y+c0xTvOxH/XzQdpsZLKDwzTmD+g0ATYXqTg4PHTe3gJQxX3DyJIYeBklcszMwGPKHTN+PQE2aQfIs8VAQahOk0g4HmuSEMy9ri1FBpcWq0tgjlKvjiicFK9S2EaZFBh2380gbW2iKUi74l75JSoIkwXc3am0FaW4TyXvCaz++/pECDQLzg3mxIuw0Tqji7nxhKeSBOuTfl+hZWuZd8KL1tCsOK0JB6ZmuLUK5zeWYtI0Agjjiqvtr9KsRjqaiCFwxV+V4GlEx8QNI3nT4AodjVZt1V2VaCxSrel5vSbuSEYaJdp24rwUTPdN78FU3UhPGDep36BbB4rFqbwxA3ofbmtNM10qpxbd2uEYMyQCjtBVfSTkhp3ywcv/EtTdSE0r5nJT2xjlutH4NQVMGV9MRaPX2ysen0IQiVb0cWG/tm8gmiN79KXNYWpmS6tgiVveCGq6SzU21t4K0tKq1OplwnDYE2FdamRShGiLa2qBULNSAkrVbzhKZrCzMySKg9jhULIe6xlAiJkAiJkAiJEPT5n23y1gKEEakVmC/CN9Pm3SWdH/NJuLD1IKwwzMbv394BYTCyFYnpxfs3d0IYnNtBHNjro52fufcrs/DMvezl/Rv/vro+N/HhRxIngxZVz03M2y7QFMc39p7VVuk3nn05XY9a9O9/pdouULUeF+/fcSfR80s76894Bi0ROhURdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdhYROhcRdtbnJ6z+tHtksL2d1RsaJqwaHF4ZbHBHHVa7fcOz9y/cvsWo+kvfx30kmtd/W71vEDAI+sOOf7zevox20iA428OGGO0bBSwR5xEmxig6MAxY6vTy2DcX1/G8Z3KUIZFIJBKJRCKRSCRN/wMzx/t7oBgIbwAAAABJRU5ErkJggg==",Gt=s.p+"img/powerpoint_file_logo.1cadc8e6.png",Yt=s.p+"img/excel_file_logo.d4c9f17d.png",Bt=s.p+"img/image_file_logo.3101ce06.png",zt=s.p+"img/pdf_file_logo.76a6ab3d.png",Lt=s.p+"img/general_file_icon.92562487.png",Vt={name:"FileCardComponent",data:()=>({confirmDialog:!1}),methods:{getImageForFileType(){return"docx"===this.filetype?$t:"pptx"===this.filetype?Gt:"xlsx"===this.filetype?Yt:"image"===this.filetype?Bt:"pdf"===this.filetype?zt:Lt},handleReview(){this.confirmDialog=!1,this.$emit("review")}},props:{filetype:{require:!0,type:String},filename:{require:!0,type:String},accessDate:{require:!0,type:String},accessTime:{require:!0,type:String},link:{require:!0,type:String},showReview:{require:!0,type:Boolean}}},Jt=Vt,Ht=(0,M.Z)(Jt,Pt,Nt,!1,null,"46201b10",null),Qt=Ht.exports;async function Wt(e,t,s){return await(await fetch("/api/review/create",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({document_id:e,request_date:t,request_time:s})})).json()}async function Kt(e){return await(await fetch("/api/review/complete",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({review_id:e})})).json()}async function Xt(){try{const e=await fetch("/api/review");if(200===e.status){let t=await e.json();for(let e of t)e.request_date=(0,ue.getFormattedDate)(e.request_date,!0,!1);return t}return null}catch(e){return console.log(e),null}}var es={name:"FileView",data:()=>({files:[],sharedFiles:[],linkInput:"",selectedFile:null,tabSelected:null,addFile:!1,sortTypeSelected:"Last Modified",sortItems:["Last Modified","Name","File Type"]}),methods:{reloadUserSharedDocument(){this.$store.state.user&&this.$store.state.user.isAdmin&&Dt().then((e=>{this.sharedFiles=e}))},reloadUserDocument(){kt().then((e=>{this.files=e}))},closeCreateDocument(){this.$refs.form.reset(),this.addFile=!1},submitCreateDocument(){this.$refs.form.validate()&&Ct(this.selectedFile.name,this.selectedFile.type,this.linkInput,"DOCUMENT").then((e=>{this.closeCreateDocument(),e.success?this.$store.commit("showSnackbar","Successfully added file!"):this.$store.commit("showSnackbar","There was an error adding the file :("),this.reloadUserDocument()}))},submitReview(e){Wt(e.document_id,(0,ue.getMysqlFormattedDate)(new Date),(0,ue.getMysqlFormattedTime)(new Date)).then((e=>{e.success?this.$store.commit("showSnackbar","Successfully sent file for review!"):this.$store.commit("showSnackbar","There was an error sending the file for review :(")}))}},mounted(){this.reloadUserDocument(),this.reloadUserSharedDocument()},watch:{"$store.state.user":function(){this.reloadUserDocument(),this.reloadUserSharedDocument()},sortTypeSelected:function(){console.log("sorting"),"Last Modified"===this.sortTypeSelected?this.files.sort((function(e,t){return e.last_access_datetime>t.last_access_datetime})):"Name"===this.sortTypeSelected?this.files.sort((function(e,t){return e.file_name>t.file_name})):"File Type"===this.sortTypeSelected&&this.files.sort((function(e,t){return e.file_type>t.file_type}))}},components:{FileCard:Qt}},ts=es,ss=(0,M.Z)(ts,Rt,qt,!1,null,"663949b4",null),is=ss.exports,as=s(8242),ns=function(){var e=this,t=e._self._c;return t(o.Z,[t(d.Z,{attrs:{"two-line":"",subheader:""}},[t(m.Z,[t(h.km,[t("div",{staticClass:"mx-auto text-center"},[t("UserAvatar",{staticStyle:{"font-size":"6em"},attrs:{size:200}}),t("h1",{staticClass:"display-1 font-weight-black"},[e._v(e._s(e.user_name))]),t("h1",{staticClass:"subtitle-1"},[e._v(" "+e._s(e.user_email)+" ")])],1)])],1),t(l.Z),t(m.Z,[t(h.km,[t(h.V9,[e._v("Account Type")]),t(h.oZ,[e._v(e._s(e.metadata.user_type))])],1)],1),t(m.Z,[t(h.km,[t(h.V9,[e._v("House")]),t(h.oZ,[e._v(e._s(e.metadata.house))])],1)],1),t(m.Z,[t(h.km,[t(h.V9,[e._v("Graduation Year")]),t(h.oZ,[e._v(e._s(e.metadata.graduation_year))])],1)],1),t(ee.Z,{attrs:{width:"450"},model:{value:e.editGradYear,callback:function(t){e.editGradYear=t},expression:"editGradYear"}},[t(o.Z,[t(Ne.Z,{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Edit Graduation Year")]),t("div",{staticClass:"px-12 pt-12"},[t(Me.Z,{staticClass:"mx-12",attrs:{items:e.editGradYearItems,outlined:""}})],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"}},[e._v(" Done ")])],1)],1)],1),t(m.Z,[t(h.km,[t(h.V9,[e._v("Mentor Group")]),t(h.oZ,[e._v(e._s(e.metadata.mentor_group))])],1),t(Pe.Z,[t(r.Z,{attrs:{icon:""},on:{click:function(t){e.editMentorGroup=!0}}},[t(u.Z,[e._v("mdi-pencil")])],1)],1)],1),t(ee.Z,{attrs:{width:"450"},model:{value:e.editMentorGroup,callback:function(t){e.editMentorGroup=t},expression:"editMentorGroup"}},[t(o.Z,[t(Ne.Z,{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Edit Mentor Group")]),t("div",{staticClass:"px-12 pt-12"},[t(te.Z,{ref:"editMentorGroupForm"},[t(Me.Z,{staticClass:"mx-12",attrs:{rules:[e=>!!e||"Please specify your Mentor Group"],items:e.editMentorGroupItems,outlined:""},model:{value:e.editMentorGroupInput,callback:function(t){e.editMentorGroupInput=t},expression:"editMentorGroupInput"}})],1)],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"},on:{click:e.submitEditMentorGroup}},[e._v(" Done ")])],1)],1)],1),t(l.Z),t(m.Z,[t(h.V9,[e._v("Majors")]),t(as.Z,e._l(e.metadata.majors,(function(s){return t(X.Z,{key:s,attrs:{color:"primary"}},[e._v(e._s(s))])})),1)],1),t(m.Z,[t(h.V9,[e._v("Honours")]),t(as.Z,e._l(e.metadata.honours,(function(s){return t(X.Z,{key:s,attrs:{color:"primary"}},[e._v(e._s(s))])})),1)],1),t(ee.Z,{attrs:{width:"450"},model:{value:e.subjectEdit,callback:function(t){e.subjectEdit=t},expression:"subjectEdit"}},[t(o.Z,[t(Ne.Z,{staticClass:"text-h5 font-weight-bold",attrs:{dense:"",color:"primary",dark:""}},[e._v("Edit "+e._s(e.subjectEditMode))]),t("div",{staticClass:"px-12 pt-12"},[t(te.Z,{ref:"subjectInput"},[t(Se.Z,{attrs:{label:e.subjectEditMode,chips:"","deletable-chips":"",outlined:"",multiple:"",rules:e.subjectInputRules,items:e.subjectItems},model:{value:e.subjectsSelected,callback:function(t){e.subjectsSelected=t},expression:"subjectsSelected"}})],1)],1),t(K.h7,{staticClass:"justify-end"},[t(r.Z,{attrs:{color:"primary"},on:{click:e.submitSubjectChange}},[e._v(" Done ")])],1)],1)],1)],1),t(K.h7,{staticClass:"justify-center"},[t(r.Z,{attrs:{"min-width":"300",color:"primary",href:"/signout"}},[t(u.Z,{staticClass:"mr-2"},[e._v(" mdi-logout ")]),e._v(" Logout ")],1)],1)],1)},rs=[],os=s(1457);const{getUserMetadata:ls}=s(1457);var cs={name:"ProfileView",components:{UserAvatar:I},data:()=>({editMentorGroupInput:"",metadata:{},editGradYear:!1,editMentorGroup:!1,subjectEdit:!1,subjectEditMode:null,editMentorGroupItems:ce.Dx,subjectItems:ce.po,subjectsSelected:[]}),methods:{reloadUserMetadata(){ls().then((e=>{this.metadata=e}))},submitEditMentorGroup(){if(this.$refs.editMentorGroupForm.validate()){let e=(new Date).getFullYear(),t=this.metadata.graduation_year,s=6-(t-e),i="M"+e%100+s+this.editMentorGroupInput;(0,os.postEditMentorGroup)(i).then((e=>{this.$refs.editMentorGroupForm.reset(),this.editMentorGroup=!1,e.success?this.$store.commit("showSnackbar","Successfully edited mentor group!"):this.$store.commit("showSnackbar","There was an error editing your mentor group :("),this.reloadUserMetadata()}))}},loadMajorsDialog(){this.subjectEditMode="Majors",this.subjectEdit=!0,this.subjectsSelected=[],this.$refs.subjectInput.reset()},loadHonoursDialog(){this.subjectEditMode="Honours",this.subjectEdit=!0,this.subjectsSelected=[],this.$refs.subjectInput.reset()},submitSubjectChange(){this.$refs.subjectInput.validate()&&alert("ok")}},mounted(){this.reloadUserMetadata()},computed:{subjectInputRules(){return[e=>e.length>=2||`At least two ${this.subjectEditMode} is required`]},user_name(){return this.$store.state.user?this.$store.state.user.name:"User"},user_email(){return this.$store.state.user?this.$store.state.user.email:"Email"},editGradYearItems(){let e=(new Date).getFullYear(),t=[];for(let s=0;s<6;++s)t.push(e+s);return t}},watch:{"$store.state.user":function(){this.reloadUserMetadata()}}},us=cs,ds=(0,M.Z)(us,ns,rs,!1,null,"102d5d41",null),ms=ds.exports,hs=s(3863),ps=function(){var e=this,t=e._self._c;return t($.Z,{attrs:{fluid:""}},[t("div",{staticClass:"pa-4"},[t(Y.Z,[t(N.Z,[t("h1",{staticClass:"text-h4 font-weight-bold"},[e._v("My Reviews")])])],1),this.$store.state.user&&this.$store.state.user.isAdmin?t(Y.Z,{attrs:{"no-gutters":""}},[t(N.Z,[t("p",[e._v("Below are the list of pending review requests from students.")])])],1):e._e(),t(Y.Z,{attrs:{dense:"","no-gutters":""}},[t(N.Z,[t("p",[e._v("Last Updated: "+e._s(e.getReadTime()))])])],1)],1),t(hs.Z,{staticClass:"elevation-1",attrs:{headers:e.reviewHeaders,items:e.reviews,"footer-props":{"items-per-page-options":[40,80,-1]},"items-per-page":20},scopedSlots:e._u([{key:"item.status",fn:function({item:s}){return[t(X.Z,{attrs:{color:e.statusColor[s.status]}},[e._v(e._s(s.status))])]}},{key:"item.link",fn:function({item:s}){return[t(r.Z,{attrs:{icon:"",href:s.link}},[t(u.Z,[e._v("mdi-open-in-new")])],1)]}},{key:"item.name",fn:function({item:s}){return[t(h.km,[t(h.V9,[e._v(e._s(s.name))]),t(h.oZ,[e._v(e._s(s.email))])],1)]}},{key:"item.review_id",fn:function({item:s}){return[t(r.Z,{staticClass:"primary",attrs:{text:""},on:{click:function(t){e.selectedReview=s.review_id,e.confirmDialog=!0}}},[e._v(" Review ")])]}}],null,!0)}),t(ee.Z,{attrs:{width:"300"},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},[t(o.Z,[t(K.EB,{staticClass:"font-weight-bold"},[e._v(" Review File ")]),t(K.ZB,[e._v(" Are you sure you want to complete the review? ")]),t(l.Z),t(K.h7,[t(_.Z),t(r.Z,{attrs:{color:"primary",text:""},on:{click:e.submitCompleteReview}},[e._v(" Confirm ")]),t(r.Z,{attrs:{text:""},on:{click:function(t){e.confirmDialog=!1}}},[e._v(" Cancel ")])],1)],1)],1)],1)},gs=[],fs={name:"ReviewView",data:()=>({confirmDialog:!1,selectedReview:null,statusColor:{PENDING:"warning",REVIEWED:"success",ERROR:"error"},reviewHeaders:[{text:"File",value:"file_name"},{text:"Status",value:"status"},{text:"File Type",value:"file_type"},{text:"Request Date",value:"request_date"},{text:"Request Time",value:"request_time"},{text:"Link",value:"link"}],reviews:[]}),mounted(){this.reloadUserReviews(),this.$store.state.user&&this.$store.state.user.isAdmin&&(this.reviewHeaders.push({text:"From",value:"name"}),this.reviewHeaders.push({text:"Action",value:"review_id"}))},methods:{getReadTime(){return le()().format("MMMM Do YYYY, h:mm:ss a")},reloadUserReviews(){Xt().then((e=>{this.reviews=e}))},submitCompleteReview(){this.confirmDialog=!1,Kt(this.selectedReview).then((e=>{e.success?this.$store.commit("showSnackbar","Successfully reviewed file!"):this.$store.commit("showSnackbar","There was an error reviewing the file :("),this.reloadUserReviews()}))}},watch:{"$store.state.user":function(){this.$store.state.user.isAdmin&&(this.reviewHeaders.push({text:"From",value:"name"}),this.reviewHeaders.push({text:"Action",value:"review_id"})),this.reloadUserReviews()}}},vs=fs,ys=(0,M.Z)(vs,ps,gs,!1,null,"42302652",null),_s=ys.exports,Zs=function(){var e=this,t=e._self._c;return t($.Z,[t(ie.Z,[e._v("Upcoming Meetings")]),t($.Z,{attrs:{fluid:""}},e._l(e.upcoming,(function(s){return t("MeetingCard",{key:s.meeting_id,staticClass:"mb-4",attrs:{name:s.counsellor_name,venue:s.venue,date:s.date,"start-time":s.start_time,"end-time":s.end_time,description:s.description,email:s.counsellor_email,"meeting-status":s.meeting_status,"meeting-id":s.meeting_id,reason:s.reason},on:{cancel:e.cancelMeeting}})})),1),0===e.upcoming.length?t($.Z,{attrs:{fluid:""}},[t(Y.Z,{attrs:{justify:"center"}},[t(G.Z,{attrs:{contain:"","max-height":"200",src:s(1633)}})],1),t(Y.Z,{attrs:{justify:"center"}},[t("p",{staticClass:"overline mt-4"},[e._v("You do not have any upcoming meetings")])])],1):e._e(),t(l.Z),t(ie.Z,[e._v("Past Meetings")]),t($.Z,{attrs:{fluid:""}},e._l(e.past,(function(s){return t("MeetingCard",{key:s.meeting_id,staticClass:"mb-4",attrs:{name:s.counsellor_name,venue:s.venue,date:s.date,"start-time":s.start_time,"end-time":s.end_time,description:s.description,"meeting-id":s.meeting_id,email:s.counsellor_email,"meeting-status":s.meeting_status,reason:s.reason},on:{cancel:e.cancelMeeting}})})),1),0===e.past.length?t($.Z,{attrs:{fluid:""}},[t(Y.Z,{attrs:{justify:"center"}},[t(G.Z,{attrs:{contain:"","max-height":"200",src:s(1633)}})],1),t(Y.Z,{attrs:{justify:"center"}},[t("p",{staticClass:"overline mt-4"},[e._v("You do not have any past meetings")])])],1):e._e()],1)},ws=[],bs={name:"MeetingView",data:()=>({meetings:[]}),computed:{upcoming(){return this.meetings.filter((e=>e.start_time.getTime()>=Date.now()))},past(){return this.meetings.filter((e=>e.start_time.getTime()<Date.now()))}},mounted(){this.reloadUserMeetings()},components:{MeetingCard:ve},methods:{cancelMeeting(e,t){we(e,t).then((e=>{e.success?this.$store.commit("showSnackbar","Successfully cancelled meeting!"):this.$store.commit("showSnackbar","There was an error cancelling the meeting :("),this.reloadUserMeetings()}))},reloadUserMeetings(){be().then((e=>{this.meetings=e}))}},watch:{"$store.state.user":function(){this.reloadUserMeetings()}}},Cs=bs,ks=(0,M.Z)(Cs,Zs,ws,!1,null,"78e2307a",null),Ds=ks.exports;i.ZP.use(P.ZP);const js=[{path:"/",name:"signin",component:H},{path:"/register",name:"register",component:Re},{path:"/profile",name:"profile",component:ms},{path:"/calendar",name:"calendar",component:xe},{path:"/meetings",name:"meetings",component:Ds},{path:"/guides",name:"guides",component:It},{path:"/university",name:"university",component:ct},{path:"/files",name:"files",component:is},{path:"/reviews",name:"reviews",component:_s},{path:"*",name:"default",component:gt}],xs=new P.ZP({mode:"history",routes:js});var Ss=xs,Ms=s(629);i.ZP.use(Ms.ZP);const Fs=new Ms.ZP.Store({state(){return{user:null,snackbarText:"",snackbarFlag:!1}},mutations:{user(e,t){e.user=t},hideSnackbar(e){e.snackbarText="",e.snackbarFlag=!1},showSnackbar(e,t){e.snackbarText=t,e.snackbarFlag=!0}}});var Is=Fs;i.ZP.config.productionTip=!1,new i.ZP({vuetify:O,router:Ss,store:Is,render:e=>e(U)}).$mount("#app")},4149:function(e,t,s){"use strict";e.exports=s.p+"img/404_art.502aab30.svg"},9574:function(e,t,s){"use strict";e.exports=s.p+"img/logo.fb8475b5.svg"},7845:function(e,t,s){"use strict";e.exports=s.p+"img/no_category_art.da488527.svg"},9480:function(e,t,s){"use strict";e.exports=s.p+"img/no_files_art.85781773.svg"},1633:function(e,t,s){"use strict";e.exports=s.p+"img/no_meeting_art.5f64f038.svg"},1473:function(e,t,s){"use strict";e.exports=s.p+"img/registration_art.e51ce6d3.svg"},5032:function(e,t,s){"use strict";e.exports=s.p+"img/university_background.1a2016aa.png"},2315:function(e,t,s){"use strict";e.exports=s.p+"img/user.7b8b0f2a.png"}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,n){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],n=e[u][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,n,r=i[0],o=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var u=l(s)}for(t&&t(i);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},i=self["webpackChunkcentros_client"]=self["webpackChunkcentros_client"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(6749)}));i=s.O(i)})();
//# sourceMappingURL=app.04d50556.js.map